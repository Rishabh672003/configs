/*! For license information please see script.js.LICENSE.txt */
(()=>{var __webpack_modules__={6717:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=c(e),a=s[0],o=s[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),l=0,f=o>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=16383,o=0,c=r-i;o<c;o+=a)s.push(u(e,o,o+a>c?c:o+a));return 1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5851:(e,t,n)=>{"use strict";const r=n(6717),i=n(9350),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?o(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),o(e<0?0:0|p(e))}function g(e){const t=e.length<0?0:0|p(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let s,a=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(s=n;s<o;s++)if(u(e,s)===u(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===c)return r*a}else-1!==r&&(s-=s-r),r=-1}else for(n+c>o&&(n=o-c),s=n;s>=0;s--){let n=!0;for(let r=0;r<c;r++)if(u(e,s+r)!==u(t,r)){n=!1;break}if(n)return s}return-1}function b(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let a;for(r>s/2&&(r=s/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Q(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function A(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return G(K(t),e,n,r)}function E(e,t,n,r){return G(function(e,t){let n,r,i;const s=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,o,c;switch(a){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(s=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):h.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const o=Math.min(s,a),u=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<o;++e)if(u[e]!==l[e]){s=u[e],a=l[e];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function S(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function B(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=X[e[r]];return i}function O(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i){D(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function R(e,t,n,r,i){D(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function U(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return t=+t,n>>>=0,s||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,s){return t=+t,n>>>=0,s||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};const q={};function N(e,t,n){q[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function D(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||$(t,e.length-(n+1))}(r,i,s)}function W(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new q.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}N("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),N("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),N("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},8257:(e,t,n)=>{var r=n(7583),i=n(9212),s=n(5637),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not a function")}},1186:(e,t,n)=>{var r=n(7583),i=n(2097),s=n(5637),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not a constructor")}},9882:(e,t,n)=>{var r=n(7583),i=n(9212),s=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+s(e)+" as a prototype")}},6733:(e,t,n)=>{"use strict";var r=n(6389).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},4761:(e,t,n)=>{var r=n(7583),i=n(2447),s=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw s("Incorrect invocation")}},2569:(e,t,n)=>{var r=n(7583),i=n(794),s=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not an object")}},1601:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},3977:(e,t,n)=>{"use strict";var r,i,s,a=n(1601),o=n(8494),c=n(7583),u=n(9212),l=n(794),f=n(2870),g=n(3058),d=n(5637),p=n(57),m=n(1270),h=n(4615).f,v=n(2447),w=n(729),y=n(7496),b=n(3649),x=n(8284),A=c.Int8Array,_=A&&A.prototype,E=c.Uint8ClampedArray,I=E&&E.prototype,k=A&&w(A),T=_&&w(_),S=Object.prototype,j=c.TypeError,B=b("toStringTag"),O=x("TYPED_ARRAY_TAG"),C=x("TYPED_ARRAY_CONSTRUCTOR"),P=a&&!!y&&"Opera"!==g(c.opera),M=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},L=function(e){if(!l(e))return!1;var t=g(e);return f(R,t)||f(U,t)};for(r in R)(s=(i=c[r])&&i.prototype)?p(s,C,i):P=!1;for(r in U)(s=(i=c[r])&&i.prototype)&&p(s,C,i);if((!P||!u(k)||k===Function.prototype)&&(k=function(){throw j("Incorrect invocation")},P))for(r in R)c[r]&&y(c[r],k);if((!P||!T||T===S)&&(T=k.prototype,P))for(r in R)c[r]&&y(c[r].prototype,T);if(P&&w(I)!==T&&y(I,T),o&&!f(T,B))for(r in M=!0,h(T,B,{get:function(){return l(this)?this[O]:void 0}}),R)c[r]&&p(c[r],O,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:C,TYPED_ARRAY_TAG:M&&O,aTypedArray:function(e){if(L(e))return e;throw j("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!y||v(k,e)))return e;throw j(d(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(o){if(n)for(var i in R){var s=c[i];if(s&&f(s.prototype,e))try{delete s.prototype[e]}catch(n){try{s.prototype[e]=t}catch(e){}}}T[e]&&!n||m(T,e,n?t:P&&_[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(o){if(y){if(n)for(r in R)if((i=c[r])&&f(i,e))try{delete i[e]}catch(e){}if(k[e]&&!n)return;try{return m(k,e,n?t:P&&k[e]||t)}catch(e){}}for(r in R)!(i=c[r])||i[e]&&!n||m(i,e,t)}},isView:function(e){if(!l(e))return!1;var t=g(e);return"DataView"===t||f(R,t)||f(U,t)},isTypedArray:L,TypedArray:k,TypedArrayPrototype:T}},5766:(e,t,n)=>{var r=n(2977),i=n(6782),s=n(1825),a=function(e){return function(t,n,a){var o,c=r(t),u=s(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((o=c[l++])!=o)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6917:(e,t,n)=>{var r=n(7386);e.exports=r([].slice)},3616:(e,t,n)=>{var r=n(3649)("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},9624:(e,t,n)=>{var r=n(7386),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},3058:(e,t,n)=>{var r=n(7583),i=n(8191),s=n(9212),a=n(9624),o=n(3649)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),o))?n:u?a(t):"Object"==(r=a(t))&&s(t.callee)?"Arguments":r}},3478:(e,t,n)=>{var r=n(2870),i=n(929),s=n(6683),a=n(4615);e.exports=function(e,t,n){for(var o=i(t),c=a.f,u=s.f,l=0;l<o.length;l++){var f=o[l];r(e,f)||n&&r(n,f)||c(e,f,u(t,f))}}},926:(e,t,n)=>{var r=n(6544);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},57:(e,t,n)=>{var r=n(8494),i=n(4615),s=n(4677);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},4677:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8494:(e,t,n)=>{var r=n(6544);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6668:(e,t,n)=>{var r=n(7583),i=n(794),s=r.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},2274:e=>{e.exports="object"==typeof window},3256:(e,t,n)=>{var r=n(6918),i=n(7583);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},7020:(e,t,n)=>{var r=n(6918);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5354:(e,t,n)=>{var r=n(9624),i=n(7583);e.exports="process"==r(i.process)},6846:(e,t,n)=>{var r=n(6918);e.exports=/web0s(?!.*chrome)/i.test(r)},6918:(e,t,n)=>{var r=n(5897);e.exports=r("navigator","userAgent")||""},4061:(e,t,n)=>{var r,i,s=n(7583),a=n(6918),o=s.process,c=s.Deno,u=o&&o.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},5690:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7263:(e,t,n)=>{var r=n(7583),i=n(6683).f,s=n(57),a=n(1270),o=n(460),c=n(3478),u=n(4451);e.exports=function(e,t){var n,l,f,g,d,p=e.target,m=e.global,h=e.stat;if(n=m?r:h?r[p]||o(p,{}):(r[p]||{}).prototype)for(l in t){if(g=t[l],f=e.noTargetGet?(d=i(n,l))&&d.value:n[l],!u(m?l:p+(h?".":"#")+l,e.forced)&&void 0!==f){if(typeof g==typeof f)continue;c(g,f)}(e.sham||f&&f.sham)&&s(g,"sham",!0),a(n,l,g,e)}}},6544:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7724:(e,t,n)=>{"use strict";n(2322);var r=n(7386),i=n(1270),s=n(8445),a=n(6544),o=n(3649),c=n(57),u=o("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var g=o(e),d=!a((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),p=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));if(!d||!p||n){var m=r(/./[g]),h=t(g,""[e],(function(e,t,n,i,a){var o=r(e),c=t.exec;return c===s||c===l.exec?d&&!a?{done:!0,value:m(t,n,i)}:{done:!0,value:o(n,t,i)}:{done:!1}}));i(String.prototype,e,h[0]),i(l,g,h[1])}f&&c(l[g],"sham",!0)}},1611:e=>{var t=Function.prototype,n=t.apply,r=t.bind,i=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(n):function(){return i.apply(n,arguments)})},2938:(e,t,n)=>{var r=n(7386),i=n(8257),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?s(e,t):function(){return e.apply(t,arguments)}}},8262:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},4340:(e,t,n)=>{var r=n(8494),i=n(2870),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=i(s,"name"),c=o&&"something"===function(){}.name,u=o&&(!r||r&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:u}},7386:e=>{var t=Function.prototype,n=t.bind,r=t.call,i=n&&n.bind(r,r);e.exports=n?function(e){return e&&i(e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},5897:(e,t,n)=>{var r=n(7583),i=n(9212),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},8272:(e,t,n)=>{var r=n(3058),i=n(911),s=n(339),a=n(3649)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||s[r(e)]}},6307:(e,t,n)=>{var r=n(7583),i=n(8262),s=n(8257),a=n(2569),o=n(5637),c=n(8272),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(s(n))return a(i(n,e));throw u(o(e)+" is not iterable")}},911:(e,t,n)=>{var r=n(8257);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},4305:(e,t,n)=>{var r=n(7386),i=n(1324),s=Math.floor,a=r("".charAt),o=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,g){var d=n+e.length,p=r.length,m=l;return void 0!==f&&(f=i(f),m=u),o(g,m,(function(i,o){var u;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,d);case"<":u=f[c(o,1,-1)];break;default:var l=+o;if(0===l)return i;if(l>p){var g=s(l/10);return 0===g?i:g<=p?void 0===r[g-1]?a(o,1):r[g-1]+a(o,1):i}u=r[l-1]}return void 0===u?"":u}))}},7583:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2870:(e,t,n)=>{var r=n(7386),i=n(1324),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},4639:e=>{e.exports={}},2716:(e,t,n)=>{var r=n(7583);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},482:(e,t,n)=>{var r=n(5897);e.exports=r("document","documentElement")},275:(e,t,n)=>{var r=n(8494),i=n(6544),s=n(6668);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},5044:(e,t,n)=>{var r=n(7583),i=n(7386),s=n(6544),a=n(9624),o=r.Object,c=i("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):o(e)}:o},9734:(e,t,n)=>{var r=n(7386),i=n(9212),s=n(1314),a=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},2743:(e,t,n)=>{var r,i,s,a=n(9491),o=n(7583),c=n(7386),u=n(794),l=n(57),f=n(2870),g=n(1314),d=n(9137),p=n(4639),m="Object already initialized",h=o.TypeError,v=o.WeakMap;if(a||g.state){var w=g.state||(g.state=new v),y=c(w.get),b=c(w.has),x=c(w.set);r=function(e,t){if(b(w,e))throw new h(m);return t.facade=e,x(w,e,t),t},i=function(e){return y(w,e)||{}},s=function(e){return b(w,e)}}else{var A=d("state");p[A]=!0,r=function(e,t){if(f(e,A))throw new h(m);return t.facade=e,l(e,A,t),t},i=function(e){return f(e,A)?e[A]:{}},s=function(e){return f(e,A)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},114:(e,t,n)=>{var r=n(3649),i=n(339),s=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},9212:e=>{e.exports=function(e){return"function"==typeof e}},2097:(e,t,n)=>{var r=n(7386),i=n(6544),s=n(9212),a=n(3058),o=n(5897),c=n(9734),u=function(){},l=[],f=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,d=r(g.exec),p=!g.exec(u),m=function(e){if(!s(e))return!1;try{return f(u,l,e),!0}catch(e){return!1}},h=function(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(g,c(e))}catch(e){return!0}};h.sham=!0,e.exports=!f||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?h:m},4451:(e,t,n)=>{var r=n(6544),i=n(9212),s=/#|\.prototype\./,a=function(e,t){var n=c[o(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},794:(e,t,n)=>{var r=n(9212);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},6268:e=>{e.exports=!1},5871:(e,t,n)=>{var r=n(7583),i=n(5897),s=n(9212),a=n(2447),o=n(7786),c=r.Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&a(t.prototype,c(e))}},4026:(e,t,n)=>{var r=n(7583),i=n(2938),s=n(8262),a=n(2569),o=n(5637),c=n(114),u=n(1825),l=n(2447),f=n(6307),g=n(8272),d=n(7093),p=r.TypeError,m=function(e,t){this.stopped=e,this.result=t},h=m.prototype;e.exports=function(e,t,n){var r,v,w,y,b,x,A,_=n&&n.that,E=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),T=i(t,_),S=function(e){return r&&d(r,"normal",e),new m(!0,e)},j=function(e){return E?(a(e),k?T(e[0],e[1],S):T(e[0],e[1])):k?T(e,S):T(e)};if(I)r=e;else{if(!(v=g(e)))throw p(o(e)+" is not iterable");if(c(v)){for(w=0,y=u(e);y>w;w++)if((b=j(e[w]))&&l(h,b))return b;return new m(!1)}r=f(e,v)}for(x=r.next;!(A=s(x,r)).done;){try{b=j(A.value)}catch(e){d(r,"throw",e)}if("object"==typeof b&&b&&l(h,b))return b}return new m(!1)}},7093:(e,t,n)=>{var r=n(8262),i=n(2569),s=n(911);e.exports=function(e,t,n){var a,o;i(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw n;if(o)throw a;return i(a),n}},339:e=>{e.exports={}},1825:(e,t,n)=>{var r=n(97);e.exports=function(e){return r(e.length)}},2095:(e,t,n)=>{var r,i,s,a,o,c,u,l,f=n(7583),g=n(2938),d=n(6683).f,p=n(8117).set,m=n(7020),h=n(3256),v=n(6846),w=n(5354),y=f.MutationObserver||f.WebKitMutationObserver,b=f.document,x=f.process,A=f.Promise,_=d(f,"queueMicrotask"),E=_&&_.value;E||(r=function(){var e,t;for(w&&(e=x.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():s=void 0,e}}s=void 0,e&&e.enter()},m||w||v||!y||!b?!h&&A&&A.resolve?((u=A.resolve(void 0)).constructor=A,l=g(u.then,u),a=function(){l(r)}):w?a=function(){x.nextTick(r)}:(p=g(p,f),a=function(){p(r)}):(o=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=o=!o})),e.exports=E||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,a()),s=t}},783:(e,t,n)=>{var r=n(7583);e.exports=r.Promise},8640:(e,t,n)=>{var r=n(4061),i=n(6544);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9491:(e,t,n)=>{var r=n(7583),i=n(9212),s=n(9734),a=r.WeakMap;e.exports=i(a)&&/native code/.test(s(a))},5084:(e,t,n)=>{"use strict";var r=n(8257),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3590:(e,t,n)=>{var r,i=n(2569),s=n(8728),a=n(5690),o=n(4639),c=n(482),u=n(6668),l=n(9137)("IE_PROTO"),f=function(){},g=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?d(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):d(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};o[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[l]=e):n=p(),void 0===t?n:s.f(n,t)}},8728:(e,t,n)=>{var r=n(8494),i=n(7670),s=n(4615),a=n(2569),o=n(2977),c=n(5432);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),i=c(t),u=i.length,l=0;u>l;)s.f(e,n=i[l++],r[n]);return e}},4615:(e,t,n)=>{var r=n(7583),i=n(8494),s=n(275),a=n(7670),o=n(2569),c=n(8734),u=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(o(e),t=c(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(o(e),t=c(t),o(n),s)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},6683:(e,t,n)=>{var r=n(8494),i=n(8262),s=n(112),a=n(4677),o=n(2977),c=n(8734),u=n(2870),l=n(275),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=o(e),t=c(t),l)try{return f(e,t)}catch(e){}if(u(e,t))return a(!i(s.f,e,t),e[t])}},9275:(e,t,n)=>{var r=n(8356),i=n(5690).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4012:(e,t)=>{t.f=Object.getOwnPropertySymbols},729:(e,t,n)=>{var r=n(7583),i=n(2870),s=n(9212),a=n(1324),o=n(9137),c=n(926),u=o("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},2447:(e,t,n)=>{var r=n(7386);e.exports=r({}.isPrototypeOf)},8356:(e,t,n)=>{var r=n(7386),i=n(2870),s=n(2977),a=n(5766).indexOf,o=n(4639),c=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,l=[];for(n in r)!i(o,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},5432:(e,t,n)=>{var r=n(8356),i=n(5690);e.exports=Object.keys||function(e){return r(e,i)}},112:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7496:(e,t,n)=>{var r=n(7386),i=n(2569),s=n(9882);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},6252:(e,t,n)=>{var r=n(7583),i=n(8262),s=n(9212),a=n(794),o=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&s(n=e.toString)&&!a(r=i(n,e)))return r;if(s(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&s(n=e.toString)&&!a(r=i(n,e)))return r;throw o("Can't convert object to primitive value")}},929:(e,t,n)=>{var r=n(5897),i=n(7386),s=n(9275),a=n(4012),o=n(2569),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=a.f;return n?c(t,n(e)):t}},544:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},5732:(e,t,n)=>{var r=n(2569),i=n(794),s=n(5084);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},2723:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},6893:(e,t,n)=>{var r=n(1270);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1270:(e,t,n)=>{var r=n(7583),i=n(9212),s=n(2870),a=n(57),o=n(460),c=n(9734),u=n(2743),l=n(4340).CONFIGURABLE,f=u.get,g=u.enforce,d=String(String).split("String");(e.exports=function(e,t,n,c){var u,f=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,h=c&&void 0!==c.name?c.name:t;i(n)&&("Symbol("===String(h).slice(0,7)&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(n,"name")||l&&n.name!==h)&&a(n,"name",h),(u=g(n)).source||(u.source=d.join("string"==typeof h?h:""))),e!==r?(f?!m&&e[t]&&(p=!0):delete e[t],p?e[t]=n:a(e,t,n)):p?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||c(this)}))},4214:(e,t,n)=>{var r=n(7583),i=n(8262),s=n(2569),a=n(9212),o=n(9624),c=n(8445),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=i(n,e,t);return null!==r&&s(r),r}if("RegExp"===o(e))return i(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},8445:(e,t,n)=>{"use strict";var r,i,s=n(8262),a=n(7386),o=n(8320),c=n(1118),u=n(5230),l=n(7836),f=n(3590),g=n(2743).get,d=n(4121),p=n(1712),m=l("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,v=h,w=a("".charAt),y=a("".indexOf),b=a("".replace),x=a("".slice),A=(i=/b*/g,s(h,r=/a/,"a"),s(h,i,"a"),0!==r.lastIndex||0!==i.lastIndex),_=u.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(A||E||_||d||p)&&(v=function(e){var t,n,r,i,a,u,l,d=this,p=g(d),I=o(e),k=p.raw;if(k)return k.lastIndex=d.lastIndex,t=s(v,k,I),d.lastIndex=k.lastIndex,t;var T=p.groups,S=_&&d.sticky,j=s(c,d),B=d.source,O=0,C=I;if(S&&(j=b(j,"y",""),-1===y(j,"g")&&(j+="g"),C=x(I,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==w(I,d.lastIndex-1))&&(B="(?: "+B+")",C=" "+C,O++),n=new RegExp("^(?:"+B+")",j)),E&&(n=new RegExp("^"+B+"$(?!\\s)",j)),A&&(r=d.lastIndex),i=s(h,S?n:d,C),S?i?(i.input=x(i.input,O),i[0]=x(i[0],O),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:A&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),E&&i&&i.length>1&&s(m,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=u=f(null),a=0;a<T.length;a++)u[(l=T[a])[0]]=i[l[1]];return i}),e.exports=v},1118:(e,t,n)=>{"use strict";var r=n(2569);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},5230:(e,t,n)=>{var r=n(6544),i=n(7583).RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!i("a","y").sticky})),o=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},4121:(e,t,n)=>{var r=n(6544),i=n(7583).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},1712:(e,t,n)=>{var r=n(6544),i=n(7583).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},3955:(e,t,n)=>{var r=n(7583).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},460:(e,t,n)=>{var r=n(7583),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},7730:(e,t,n)=>{"use strict";var r=n(5897),i=n(4615),s=n(3649),a=n(8494),o=s("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},8821:(e,t,n)=>{var r=n(4615).f,i=n(2870),s=n(3649)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},9137:(e,t,n)=>{var r=n(7836),i=n(8284),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},1314:(e,t,n)=>{var r=n(7583),i=n(460),s="__core-js_shared__",a=r[s]||i(s,{});e.exports=a},7836:(e,t,n)=>{var r=n(6268),i=n(1314);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.2",mode:r?"pure":"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"})},564:(e,t,n)=>{var r=n(2569),i=n(1186),s=n(3649)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[s])?t:i(n)}},6389:(e,t,n)=>{var r=n(7386),i=n(7486),s=n(8320),a=n(3955),o=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,f=s(a(t)),g=i(n),d=f.length;return g<0||g>=d?e?"":void 0:(r=c(f,g))<55296||r>56319||g+1===d||(l=c(f,g+1))<56320||l>57343?e?o(f,g):r:e?u(f,g,g+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},8117:(e,t,n)=>{var r,i,s,a,o=n(7583),c=n(1611),u=n(2938),l=n(9212),f=n(2870),g=n(6544),d=n(482),p=n(6917),m=n(6668),h=n(7020),v=n(5354),w=o.setImmediate,y=o.clearImmediate,b=o.process,x=o.Dispatch,A=o.Function,_=o.MessageChannel,E=o.String,I=0,k={};try{r=o.location}catch(e){}var T=function(e){if(f(k,e)){var t=k[e];delete k[e],t()}},S=function(e){return function(){T(e)}},j=function(e){T(e.data)},B=function(e){o.postMessage(E(e),r.protocol+"//"+r.host)};w&&y||(w=function(e){var t=p(arguments,1);return k[++I]=function(){c(l(e)?e:A(e),void 0,t)},i(I),I},y=function(e){delete k[e]},v?i=function(e){b.nextTick(S(e))}:x&&x.now?i=function(e){x.now(S(e))}:_&&!h?(a=(s=new _).port2,s.port1.onmessage=j,i=u(a.postMessage,a)):o.addEventListener&&l(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!g(B)?(i=B,o.addEventListener("message",j,!1)):i="onreadystatechange"in m("script")?function(e){d.appendChild(m("script")).onreadystatechange=function(){d.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:w,clear:y}},6782:(e,t,n)=>{var r=n(7486),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},2977:(e,t,n)=>{var r=n(5044),i=n(3955);e.exports=function(e){return r(i(e))}},7486:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},97:(e,t,n)=>{var r=n(7486),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},1324:(e,t,n)=>{var r=n(7583),i=n(3955),s=r.Object;e.exports=function(e){return s(i(e))}},3248:(e,t,n)=>{var r=n(7583),i=n(2955),s=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw s("Wrong offset");return n}},2955:(e,t,n)=>{var r=n(7583),i=n(7486),s=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},2670:(e,t,n)=>{var r=n(7583),i=n(8262),s=n(794),a=n(5871),o=n(911),c=n(6252),u=n(3649),l=r.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!s(e)||a(e))return e;var n,r=o(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!s(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},8734:(e,t,n)=>{var r=n(2670),i=n(5871);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},8191:(e,t,n)=>{var r={};r[n(3649)("toStringTag")]="z",e.exports="[object z]"===String(r)},8320:(e,t,n)=>{var r=n(7583),i=n(3058),s=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},5637:(e,t,n)=>{var r=n(7583).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},8284:(e,t,n)=>{var r=n(7386),i=0,s=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+s,36)}},7786:(e,t,n)=>{var r=n(8640);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7670:(e,t,n)=>{var r=n(8494),i=n(6544);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3649:(e,t,n)=>{var r=n(7583),i=n(7836),s=n(2870),a=n(8284),o=n(8640),c=n(7786),u=i("wks"),l=r.Symbol,f=l&&l.for,g=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!s(u,e)||!o&&"string"!=typeof u[e]){var t="Symbol."+e;o&&s(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):g(t)}return u[e]}},5334:(e,t,n)=>{"use strict";var r,i,s,a,o=n(7263),c=n(6268),u=n(7583),l=n(5897),f=n(8262),g=n(783),d=n(1270),p=n(6893),m=n(7496),h=n(8821),v=n(7730),w=n(8257),y=n(9212),b=n(794),x=n(4761),A=n(9734),_=n(4026),E=n(3616),I=n(564),k=n(8117).set,T=n(2095),S=n(5732),j=n(2716),B=n(5084),O=n(544),C=n(2723),P=n(2743),M=n(4451),R=n(3649),U=n(2274),L=n(5354),z=n(4061),q=R("species"),N="Promise",F=P.getterFor(N),D=P.set,W=P.getterFor(N),$=g&&g.prototype,V=g,H=$,K=u.TypeError,G=u.document,Y=u.process,Q=B.f,X=Q,Z=!!(G&&G.createEvent&&u.dispatchEvent),J=y(u.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=M(N,(function(){var e=A(V),t=e!==String(V);if(!t&&66===z)return!0;if(c&&!H.finally)return!0;if(z>=51&&/native code/.test(e))return!1;var n=new V((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[q]=r,!(te=n.then((function(){}))instanceof r)||!t&&U&&!J})),re=ne||!E((function(e){V.all(e).catch((function(){}))})),ie=function(e){var t;return!(!b(e)||!y(t=e.then))&&t},se=function(e,t){var n,r,i,s=t.value,a=1==t.state,o=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{o?(a||(2===t.rejection&&le(t),t.rejection=1),!0===o?n=s:(l&&l.enter(),n=o(s),l&&(l.exit(),i=!0)),n===e.promise?u(K("Promise-chain cycle")):(r=ie(n))?f(r,n,c,u):c(n)):u(s)}catch(e){l&&!i&&l.exit(),u(e)}},ae=function(e,t){e.notified||(e.notified=!0,T((function(){for(var n,r=e.reactions;n=r.get();)se(n,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},oe=function(e,t,n){var r,i;Z?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!J&&(i=u["on"+e])?i(r):e===ee&&j("Unhandled promise rejection",n)},ce=function(e){f(k,u,(function(){var t,n=e.facade,r=e.value;if(ue(e)&&(t=O((function(){L?Y.emit("unhandledRejection",r,n):oe(ee,n,r)})),e.rejection=L||ue(e)?2:1,t.error))throw t.value}))},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e){f(k,u,(function(){var t=e.facade;L?Y.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},fe=function(e,t,n){return function(r){e(t,r,n)}},ge=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ae(e,!0))},de=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw K("Promise can't be resolved itself");var r=ie(t);r?T((function(){var n={done:!1};try{f(r,t,fe(de,n,e),fe(ge,n,e))}catch(t){ge(n,t,e)}})):(e.value=t,e.state=1,ae(e,!1))}catch(t){ge({done:!1},t,e)}}};if(ne&&(H=(V=function(e){x(this,H),w(e),f(r,this);var t=F(this);try{e(fe(de,t),fe(ge,t))}catch(e){ge(t,e)}}).prototype,(r=function(e){D(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=p(H,{then:function(e,t){var n=W(this),r=Q(I(this,V));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=L?Y.domain:void 0,0==n.state?n.reactions.add(r):T((function(){se(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=F(e);this.promise=e,this.resolve=fe(de,t),this.reject=fe(ge,t)},B.f=Q=function(e){return e===V||e===s?new i(e):X(e)},!c&&y(g)&&$!==Object.prototype)){a=$.then,te||(d($,"then",(function(e,t){var n=this;return new V((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0}),d($,"catch",H.catch,{unsafe:!0}));try{delete $.constructor}catch(e){}m&&m($,H)}o({global:!0,wrap:!0,forced:ne},{Promise:V}),h(V,N,!1,!0),v(N),s=l(N),o({target:N,stat:!0,forced:ne},{reject:function(e){var t=Q(this);return f(t.reject,void 0,e),t.promise}}),o({target:N,stat:!0,forced:c||ne},{resolve:function(e){return S(c&&this===s?V:this,e)}}),o({target:N,stat:!0,forced:re},{all:function(e){var t=this,n=Q(t),r=n.resolve,i=n.reject,s=O((function(){var n=w(t.resolve),s=[],a=0,o=1;_(e,(function(e){var c=a++,u=!1;o++,f(n,t,e).then((function(e){u||(u=!0,s[c]=e,--o||r(s))}),i)})),--o||r(s)}));return s.error&&i(s.value),n.promise},race:function(e){var t=this,n=Q(t),r=n.reject,i=O((function(){var i=w(t.resolve);_(e,(function(e){f(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},2322:(e,t,n)=>{"use strict";var r=n(7263),i=n(8445);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3296:(e,t,n)=>{"use strict";var r=n(1611),i=n(8262),s=n(7386),a=n(7724),o=n(6544),c=n(2569),u=n(9212),l=n(7486),f=n(97),g=n(8320),d=n(3955),p=n(6733),m=n(911),h=n(4305),v=n(4214),w=n(3649)("replace"),y=Math.max,b=Math.min,x=s([].concat),A=s([].push),_=s("".indexOf),E=s("".slice),I="$0"==="a".replace(/./,"$0"),k=!!/./[w]&&""===/./[w]("a","$0");a("replace",(function(e,t,n){var s=k?"$":"$0";return[function(e,n){var r=d(this),s=null==e?void 0:m(e,w);return s?i(s,e,r,n):i(t,g(r),e,n)},function(e,i){var a=c(this),o=g(e);if("string"==typeof i&&-1===_(i,s)&&-1===_(i,"$<")){var d=n(t,a,o,i);if(d.done)return d.value}var m=u(i);m||(i=g(i));var w=a.global;if(w){var I=a.unicode;a.lastIndex=0}for(var k=[];;){var T=v(a,o);if(null===T)break;if(A(k,T),!w)break;""===g(T[0])&&(a.lastIndex=p(o,f(a.lastIndex),I))}for(var S,j="",B=0,O=0;O<k.length;O++){for(var C=g((T=k[O])[0]),P=y(b(l(T.index),o.length),0),M=[],R=1;R<T.length;R++)A(M,void 0===(S=T[R])?S:String(S));var U=T.groups;if(m){var L=x([C],M,P,o);void 0!==U&&A(L,U);var z=g(r(i,void 0,L))}else z=h(C,o,P,M,U,i);P>=B&&(j+=E(o,B,P)+z,B=P+C.length)}return j+E(o,B)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!I||k)},9494:(e,t,n)=>{"use strict";var r=n(7583),i=n(8262),s=n(3977),a=n(1825),o=n(3248),c=n(1324),u=n(6544),l=r.RangeError,f=r.Int8Array,g=f&&f.prototype,d=g&&g.set,p=s.aTypedArray,m=s.exportTypedArrayMethod,h=!u((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),v=h&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(h)return i(d,this,n,t);var r=this.length,s=a(n),u=0;if(s+t>r)throw l("Wrong length");for(;u<s;)this[t+u]=n[u++]}),!h||v)},1075:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,s),!0;case 6:return l.fn.call(l.context,t,r,i,s,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var g,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(g=1,c=new Array(f-1);g<f;g++)c[g-1]=arguments[g];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&u.push(o[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},2397:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(5851).Buffer;const Token=__webpack_require__(578),strtok3=__webpack_require__(4073),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6921),supported=__webpack_require__(5265),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,n){n={offset:0,...n};for(const[r,i]of t.entries())if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const n=(e,n)=>_check(t,e,n),r=(e,t)=>n(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:12,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),r("PS-Adobe-",{offset:2})&&r(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r("ID3")){await e.ignore(6);const t=await e.readToken(uint32SyncSafeToken);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),fromTokenizer(e))}if(r("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r("FLIF"))return{ext:"flif",mime:"image/flif"};if(r("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(r("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(r("FORM"))return{ext:"aif",mime:"audio/aiff"};if(r("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const n={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(n.filename=await e.readToken(new Token.StringType(n.filenameLength,"utf-8")),await e.ignore(n.extraFieldLength),"META-INF/mozilla.rsa"===n.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(n.filename.endsWith(".rels")||n.filename.endsWith(".xml"))switch(n.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(n.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(n.filename.startsWith("3D/")&&n.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===n.filename&&n.compressedSize===n.uncompressedSize)switch(await e.readToken(new Token.StringType(n.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===n.compressedSize){let n=-1;for(;n<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),n=t.indexOf("504B0304",0,"hex"),await e.ignore(n>=0?n:t.length)}else await e.ignore(n.compressedSize)}}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}return{ext:"zip",mime:"application/zip"}}if(r("OggS")){await e.ignore(28);const t=Buffer.alloc(8);return await e.readBuffer(t),_check(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(r("ftyp",{offset:4})&&0!=(96&t[8])){const e=t.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r("MThd"))return{ext:"mid",mime:"audio/midi"};if(r("wOFF")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(r("wOF2")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(r("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(r("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(r("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(r("%PDF")){await e.ignore(1350);const t=10485760,n=Buffer.alloc(Math.min(t,e.fileInfo.size));return await e.readBuffer(n,{mayBeLess:!0}),n.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return r("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function t(){const t=await e.peekNumber(Token.UINT8);let n=128,r=0;for(;0==(t&n);)++r,n>>=1;const i=Buffer.alloc(r+1);return await e.readBuffer(i),i}async function n(){const e=await t(),n=await t();n[0]^=128>>n.length-1;const r=Math.min(6,n.length);return{id:e.readUIntBE(0,e.length),len:n.readUIntBE(n.length-r,r)}}async function r(t,r){for(;r>0;){const t=await n();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}const i=await n();switch(await r(0,i.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r("MSCF")||r("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(r("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r("IMPM"))return{ext:"it",mime:"audio/x-it"};if(r("-lh0-",{offset:2})||r("-lh1-",{offset:2})||r("-lh2-",{offset:2})||r("-lh3-",{offset:2})||r("-lh4-",{offset:2})||r("-lh5-",{offset:2})||r("-lh6-",{offset:2})||r("-lh7-",{offset:2})||r("-lzs-",{offset:2})||r("-lz4-",{offset:2})||r("-lz5-",{offset:2})||r("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(r("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r("solid "))return{ext:"stl",mime:"model/stl"};if(r("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(r("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){async function t(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const n=await t();if(n.length<0)return;switch(n.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(n.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){async function t(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const n=await t();let r=n.size-24;if(_check(n.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const t=Buffer.alloc(16);if(r-=await e.readBuffer(t),_check(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),r("BEGIN:")){if(r("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(r("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(r("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(r("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){const e=t.readUInt32LE(12);if(e>12&&t.length>=e+16)try{const n=t.slice(16,e+16).toString();if(JSON.parse(n).files)return{ext:"asar",mime:"application/x-asar"}}catch(e){}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(r("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,(()=>{})):readableStream.pipe(e);const n=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(n);e.fileType=t}catch(e){reject(e)}resolve(t)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},891:(e,t,n)=>{"use strict";const r=n(5392),i=n(2397),s={fromFile:async function(e){const t=await r.fromFile(e);try{return await i.fromTokenizer(t)}finally{await t.close()}}};Object.assign(s,i),Object.defineProperty(s,"extensions",{get:()=>i.extensions}),Object.defineProperty(s,"mimeTypes",{get:()=>i.mimeTypes}),e.exports=s},5265:e=>{"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6921:(e,t)=>{"use strict";t.stringToBytes=e=>[...e].map((e=>e.charCodeAt(0))),t.tarHeaderChecksumMatches=(e,t=0)=>{const n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;let r=256;for(let n=t;n<t+148;n++)r+=e[n];for(let n=t+156;n<t+512;n++)r+=e[n];return n===r},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},9350:(e,t)=>{t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,c=(1<<o)-1,u=c>>1,l=-7,f=n?i-1:0,g=n?-1:1,d=e[t+f];for(f+=g,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+f],f+=g,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=g,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),s-=u}return(d?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,f=l>>1,g=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?g/c:g*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(o=0,a=l):a+f>=1?(o=(t*c-1)*Math.pow(2,i),a+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},1216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}},5141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class n extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=n},7850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const r=n(5141),i=n(1216);var s=n(5141);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),t.StreamReader=class{constructor(e){if(this.s=e,this.request=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new r.EndOfStreamError))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,n){const r=await this.read(e,t,n);return this.peekQueue.push(e.subarray(t,t+r)),r}async read(e,t,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new r.EndOfStreamError;let i=n,s=0;for(;this.peekQueue.length>0&&i>0;){const n=this.peekQueue.pop();if(!n)throw new Error("peekData should be defined");const r=Math.min(n.length,i);e.set(n.subarray(0,r),t+s),s+=r,i-=r,r<n.length&&this.peekQueue.push(n.subarray(r))}for(;i>0&&!this.endOfStream;){const n=Math.min(i,1048576),r=await this._read(e,t+s,n);if(s+=r,r<n)break;i-=r}return s}async _read(e,t,n){if(this.request)throw new Error("Concurrent read operation?");const r=this.s.read(n);return r?(e.set(r,t),r.length):(this.request={buffer:e,offset:t,length:n,deferred:new i.Deferred},this.s.once("readable",(()=>{this.tryRead()})),this.request.deferred.promise)}tryRead(){if(!this.request)throw new Error("this.request should be defined");const e=this.s.read(this.request.length);e?(this.request.buffer.set(e,this.request.offset),this.request.deferred.resolve(e.length),this.request=null):this.s.once("readable",(()=>{this.tryRead()}))}reject(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}},7114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var r=n(5141);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}});var i=n(7850);Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})},2087:(e,t,n)=>{"use strict";var r=n(5851).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const i=n(7114);t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const n=r.alloc(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new i.EndOfStreamError;return e.get(n,0)}async peekToken(e,t=this.position){const n=r.alloc(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new i.EndOfStreamError;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new i.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new i.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},6534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const r=n(7114),i=n(2087);class s extends i.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&i<n.length)throw new r.EndOfStreamError;return e.set(this.uint8Array.subarray(n.position,n.position+i),n.offset),i}async close(){}}t.BufferTokenizer=s},231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;const r=n(2087),i=n(7114),s=n(8655);class a extends r.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){const n=this.normalizeOptions(e,t);this.position=n.position;const r=await s.read(this.fd,e,n.offset,n.length,n.position);if(this.position+=r.bytesRead,r.bytesRead<n.length&&(!t||!t.mayBeLess))throw new i.EndOfStreamError;return r.bytesRead}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),r=await s.read(this.fd,e,n.offset,n.length,n.position);if(!n.mayBeLess&&r.bytesRead<n.length)throw new i.EndOfStreamError;return r.bytesRead}async close(){return s.close(this.fd)}}t.FileTokenizer=a,t.fromFile=async function(e){const t=await s.stat(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);const n=await s.open(e,"r");return new a(n,{path:e,size:t.size})}},8655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;const r=n(4059);t.pathExists=r.existsSync,t.createReadStream=r.createReadStream,t.stat=async function(e){return new Promise(((t,n)=>{r.stat(e,((e,r)=>{e?n(e):t(r)}))}))},t.close=async function(e){return new Promise(((t,n)=>{r.close(e,(e=>{e?n(e):t()}))}))},t.open=async function(e,t){return new Promise(((n,i)=>{r.open(e,t,((e,t)=>{e?i(e):n(t)}))}))},t.read=async function(e,t,n,i,s){return new Promise(((a,o)=>{r.read(e,t,n,i,s,((e,t,n)=>{e?o(e):a({bytesRead:t,buffer:n})}))}))},t.writeFile=async function(e,t){return new Promise(((n,i)=>{r.writeFile(e,t,(e=>{e?i(e):n()}))}))},t.writeFileSync=function(e,t){r.writeFileSync(e,t)},t.readFile=async function(e){return new Promise(((t,n)=>{r.readFile(e,((e,r)=>{e?n(e):t(r)}))}))}},844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const r=n(2087),i=n(7114);class s extends r.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const n=this.normalizeOptions(e,t),r=n.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;const s=await this.streamReader.read(e,n.offset,n.length);if(this.position+=s,(!t||!t.mayBeLess)&&s<n.length)throw new i.EndOfStreamError;return s}async peekBuffer(e,t){const n=this.normalizeOptions(e,t);let r=0;if(n.position){const t=n.position-this.position;if(t>0){const i=new Uint8Array(n.length+t);return r=await this.peekBuffer(i,{mayBeLess:n.mayBeLess}),e.set(i.subarray(t),n.offset),r-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{r=await this.streamReader.peek(e,n.offset,n.length)}catch(e){if(t&&t.mayBeLess&&e instanceof i.EndOfStreamError)return 0;throw e}if(!n.mayBeLess&&r<n.length)throw new i.EndOfStreamError}return r}async ignore(e){const t=Math.min(256e3,e),n=new Uint8Array(t);let r=0;for(;r<e;){const i=e-r,s=await this.readBuffer(n,{length:Math.min(t,i)});if(s<0)return s;r+=s}return r}}t.ReadStreamTokenizer=s},4073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const r=n(844),i=n(6534);var s=n(7114);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new r.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},5392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;const r=n(8655),i=n(4073);var s=n(231);Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return s.fromFile}});var a=n(4073);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return a.fromBuffer}}),t.fromStream=async function(e,t){if(t=t||{},e.path){const n=await r.stat(e.path);t.path=e.path,t.size=n.size}return i.fromStream(e,t)}},578:(e,t,n)=>{"use strict";var r=n(5851).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const i=n(9350);function s(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:(e,t)=>s(e).getUint8(t),put:(e,t,n)=>(s(e).setUint8(t,n),t+1)},t.UINT16_LE={len:2,get:(e,t)=>s(e).getUint16(t,!0),put:(e,t,n)=>(s(e).setUint16(t,n,!0),t+2)},t.UINT16_BE={len:2,get:(e,t)=>s(e).getUint16(t),put:(e,t,n)=>(s(e).setUint16(t,n),t+2)},t.UINT24_LE={len:3,get(e,t){const n=s(e);return n.getUint8(t)+(n.getUint16(t+1,!0)<<8)},put(e,t,n){const r=s(e);return r.setUint8(t,255&n),r.setUint16(t+1,n>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){const n=s(e);return(n.getUint16(t)<<8)+n.getUint8(t+2)},put(e,t,n){const r=s(e);return r.setUint16(t,n>>8),r.setUint8(t+2,255&n),t+3}},t.UINT32_LE={len:4,get:(e,t)=>s(e).getUint32(t,!0),put:(e,t,n)=>(s(e).setUint32(t,n,!0),t+4)},t.UINT32_BE={len:4,get:(e,t)=>s(e).getUint32(t),put:(e,t,n)=>(s(e).setUint32(t,n),t+4)},t.INT8={len:1,get:(e,t)=>s(e).getInt8(t),put:(e,t,n)=>(s(e).setInt8(t,n),t+2)},t.INT16_BE={len:2,get:(e,t)=>s(e).getInt16(t),put:(e,t,n)=>(s(e).setInt16(t,n),t+2)},t.INT16_LE={len:2,get:(e,t)=>s(e).getInt16(t,!0),put:(e,t,n)=>(s(e).setInt16(t,n,!0),t+2)},t.INT24_LE={len:3,get(e,n){const r=t.UINT24_LE.get(e,n);return r>8388607?r-16777216:r},put(e,t,n){const r=s(e);return r.setUint8(t,255&n),r.setUint16(t+1,n>>8,!0),t+3}},t.INT24_BE={len:3,get(e,n){const r=t.UINT24_BE.get(e,n);return r>8388607?r-16777216:r},put(e,t,n){const r=s(e);return r.setUint16(t,n>>8),r.setUint8(t+2,255&n),t+3}},t.INT32_BE={len:4,get:(e,t)=>s(e).getInt32(t),put:(e,t,n)=>(s(e).setInt32(t,n),t+4)},t.INT32_LE={len:4,get:(e,t)=>s(e).getInt32(t,!0),put:(e,t,n)=>(s(e).setInt32(t,n,!0),t+4)},t.UINT64_LE={len:8,get:(e,t)=>s(e).getBigUint64(t,!0),put:(e,t,n)=>(s(e).setBigUint64(t,n,!0),t+8)},t.INT64_LE={len:8,get:(e,t)=>s(e).getBigInt64(t,!0),put:(e,t,n)=>(s(e).setBigInt64(t,n,!0),t+8)},t.UINT64_BE={len:8,get:(e,t)=>s(e).getBigUint64(t),put:(e,t,n)=>(s(e).setBigUint64(t,n),t+8)},t.INT64_BE={len:8,get:(e,t)=>s(e).getBigInt64(t),put:(e,t,n)=>(s(e).setBigInt64(t,n),t+8)},t.Float16_BE={len:2,get(e,t){return i.read(e,t,!1,10,this.len)},put(e,t,n){return i.write(e,n,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return i.read(e,t,!0,10,this.len)},put(e,t,n){return i.write(e,n,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>s(e).getFloat32(t),put:(e,t,n)=>(s(e).setFloat32(t,n),t+4)},t.Float32_LE={len:4,get:(e,t)=>s(e).getFloat32(t,!0),put:(e,t,n)=>(s(e).setFloat32(t,n,!0),t+4)},t.Float64_BE={len:8,get:(e,t)=>s(e).getFloat64(t),put:(e,t,n)=>(s(e).setFloat64(t,n),t+8)},t.Float64_LE={len:8,get:(e,t)=>s(e).getFloat64(t,!0),put:(e,t,n)=>(s(e).setFloat64(t,n,!0),t+8)},t.Float80_BE={len:10,get(e,t){return i.read(e,t,!1,63,this.len)},put(e,t,n){return i.write(e,n,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return i.read(e,t,!0,63,this.len)},put(e,t,n){return i.write(e,n,t,!0,63,this.len),t+this.len}},t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},t.Uint8ArrayType=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}},t.BufferType=class{constructor(e){this.len=e}get(e,t){return e.slice(t,t+this.len)}},t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return r.from(e).toString(this.encoding,t,t+this.len)}};class a{constructor(e){this.len=e}static decode(e,t,n){let r="";for(let i=t;i<n;++i)r+=a.codePointToString(a.singleByteDecoder(e[i]));return r}static inRange(e,t,n){return t<=e&&e<=n}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(a.inRange(e,0,127))return e;const t=a.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return a.decode(e,t,t+this.len)}}t.AnsiStringType=a,a.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},3145:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class i extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",o=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),i={has:(t,n)=>n in e||n in r,get(i,l,f){if(l in r)return r[l];if(!(l in e))return;let g=e[l];if("function"==typeof g)if("function"==typeof t[l])g=o(e,e[l],t[l]);else if(c(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,s({resolve:i,reject:a},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,s),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,s({resolve:i,reject:a},t))}))})(l,n[l]);g=o(e,e[l],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(c(t,l)||c(n,l)))g=u(g,t[l],n[l]);else{if(!c(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),g;g=u(g,t[l],n["*"])}return r[l]=g,g},set:(t,n,i,s)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,i)},l=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),f=new i((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)}));let g=!1;const d=new i((e=>"function"!=typeof e?e:function(t,r,i){let s,a,o=!1,c=new Promise((e=>{s=function(t){g||(console.warn(n,(new Error).stack),g=!0),o=!0,e(t)}}));try{a=e(t,r,s)}catch(e){a=Promise.reject(e)}const u=!0!==a&&((l=a)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==a&&!u&&!o)return!1;return(u?a:c).then((e=>{i(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",i({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},m=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},h={devtools:{network:{onRequestFinished:l(f)}},runtime:{onMessage:l(d),onMessageExternal:l(d),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},u(e,h,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)},3411:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initStorage:()=>f,migrateLegacyStorage:()=>g}),n(5334);var r=n(3145),i=n.n(r);const s=function(e,t,n){var r=null==e?0:e.length;return r?function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}(e,t=null==t?0:t,n=void 0===n?r:n):[]};var a=n(7019),o=Math.max;const c=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:n;return i<0&&(i=o(r+i,0)),(0,a.Z)(e,t,i)};async function u(e,{area:t="local"}={}){return async function(e,{area:t="local"}={}){const n=await async function(e,t){return e("./config.json").revisions[t]}(e,t),r=await async function(e="local"){const{storageVersion:t}=await i().storage[e].get("storageVersion");return t}(t),a=(u=null==(o=n)?0:o.length)?o[u-1]:void 0;var o,u;if(r===a)return;const l=s(n,c(n,r)+1,c(n,a)+1);console.log(`Migrating storage (${t}): ${r} => ${a}`);for(const n of l){const r=e(`./revisions/${t}/${n}.js`);console.log(`Applying revision (${t}): ${r.revision} - ${r.message}`),await r.upgrade()}}(e,{area:t})}var l=n(1068);async function f(){let{area:e="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n(3409);return u(t,{area:e})}async function g(){if(await(0,l.isStorageArea)({area:"sync"})){const{storageVersion:e}=await i().storage.sync.get("storageVersion");if(e&&e.length<14){const{storageVersion:e}=await i().storage.local.get("storageVersion");if(!e||e.length<14){const e=await i().storage.sync.get(null);await i().storage.local.clear(),await i().storage.local.set(e),await i().storage.sync.clear()}}}}},7924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Support event pages",s="20210820184257_support_event_pages",a=n.n(r)().storage.local;async function o(){const e={taskRegistry:{lastTaskStart:0,tabs:{},tasks:{}},storageRegistry:{},lastStorageCleanup:0};return e.storageVersion=s,a.set(e)}},9730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add image sharing options",s="20210919175209_add_image_sharing_options",a=n.n(r)().storage.local;async function o(){const e={shareImageContextMenu:!0,shareImageAction:!0,convertSharedImage:!0};return e.storageVersion=s,a.set(e)}},5345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add Unsplash",s="20210928090443_add_unsplash",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["unsplash"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}},5985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>a,revision:()=>o,upgrade:()=>u}),n(5334);var r=n(3145),i=n.n(r),s=n(5221);const a="Configure engines",o="20211011114043_configure_engines",c=i().storage.local;async function u(){const e={};if("safari"===s.W9){const{engines:t,disabledEngines:n}=await c.get(["engines","disabledEngines"]),r=["iqdb","jpDesign"];e.engines=t.concat(r),e.disabledEngines=n.concat(r)}return e.storageVersion=o,c.set(e)}},5609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add SHEIN",s="20211106103932_add_shein",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["shein"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}},3395:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add LykDat",s="20211111071410_add_lykdat",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["lykdat"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}},5674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add Wildberries",s="20211204124507_add_wildberries",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["wildberries"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}},6153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add lastEngineAccessCheck",s="20211213014048_add_lastengineaccesscheck",a=n.n(r)().storage.local;async function o(){const e={lastEngineAccessCheck:0};return e.storageVersion=s,a.set(e)}},7052:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add setContextMenuEvent",s="20211213191049_add_setcontextmenuevent",a=n.n(r)().storage.local;async function o(){const e={setContextMenuEvent:0};return e.storageVersion=s,a.set(e)}},2145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>o,revision:()=>c,upgrade:()=>l}),n(5334);var r=n(3145),i=n.n(r),s=n(2667),a=n(5221);const o="Add Google Lens",c="20220108063511_add_google_lens",u=i().storage.local;async function l(){const e={},{engines:t,disabledEngines:n}=await u.get(["engines","disabledEngines"]);if("safari"!==a.W9||!await(0,s.tq)()){const r=["googleLens"];"samsung"===a.W9&&(t.push("mailru"),n.push("mailru")),e.engines=t.concat(r),e.disabledEngines=n.concat(r)}return e.storageVersion=c,u.set(e)}},6823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o}),n(5334);var r=n(3145);const i="Add clipboard support",s="20220321163741_add_clipboard_support",a=n.n(r)().storage.local;async function o(){const e={autoPasteAction:!0,confirmPaste:!0};return e.storageVersion=s,a.set(e)}},5590:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add WhatAnime",s="BJXdcUXOG",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("whatanime"),e.disabledEngines=n.concat("whatanime"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"whatanime"!==e})),e.disabledEngines=n.filter((function(e){return"whatanime"!==e})),e.storageVersion="S1ebtZ3Uzz",a.set(e)}},4171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add installTime and searchCount",s="BJguWEHcbz",a=n.n(r)().storage.local;async function o(){const e={};return e.installTime=Date.now(),e.searchCount=0,e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove(["installTime","searchCount"]),e.storageVersion="ryY8H0EWf",a.set(e)}},165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Merge searchAllEngines options",s="Bk42MzXdW",a=n.n(r)().storage.local;async function o(){const e={},{searchAllEngines:t,searchAllEnginesLocation:n}=await a.get(["searchAllEngines","searchAllEnginesLocation"]);return await a.remove(["searchAllEngines","searchAllEnginesLocation"]),e.searchAllEnginesContextMenu=t?"menu"===n?"main":"sub":"false",e.storageVersion=s,a.set(e)}async function c(){const e={},{searchAllEnginesContextMenu:t}=await a.get(["searchAllEnginesContextMenu"]);return await a.remove("searchAllEnginesContextMenu"),"false"===t?(e.searchAllEngines=!1,e.searchAllEnginesLocation="sub"):(e.searchAllEngines=!0,e.searchAllEnginesLocation="main"===t?"menu":"submenu"),e.storageVersion="S1kNNadHZ",a.set(e)}},9201:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add showInContextMenu, searchAllEnginesAction and searchModeAction options",s="HJ5MKKGhW",a=n.n(r)().storage.local;async function o(){const e={showInContextMenu:!0,searchAllEnginesAction:"sub",searchModeAction:"select"};return e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove(["showInContextMenu","searchAllEnginesAction","searchModeAction"]),e.storageVersion="Bk42MzXdW",a.set(e)}},5324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add imgFullParse option",s="Hy1tD8ANb",a=n.n(r)().storage.local;async function o(){const e={imgFullParse:!1};return e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove("imgFullParse"),e.storageVersion="ryekyizAg",a.set(e)}},3365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Hide unavailable engines",s="IMMjiccGj",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["wayfair","birchlane","allmodern","jossandmain","perigold"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion=s,a.set(e)}async function c(){return a.set({storageVersion:"ggrr9C9pgV"})}},553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Reddit Repost Sleuth",s="K9Esw2jiQ3",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("repostSleuth"),e.disabledEngines=n.concat("repostSleuth"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"repostSleuth"!==e})),e.disabledEngines=n.filter((function(e){return"repostSleuth"!==e})),e.storageVersion="IMMjiccGj",a.set(e)}},8654:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add trademark and design patent search engines",s="LX20x6G8l",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["esearch","tmview","branddb","madridMonitor","auTrademark","auDesign","nzTrademark","jpDesign"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["esearch","tmview","branddb","madridMonitor","auTrademark","auDesign","nzTrademark","jpDesign"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="ShjDMM87",a.set(e)}},7338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Iqdb",s="S18hLi5tG",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("iqdb"),e.disabledEngines=n.concat("iqdb"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"iqdb"!==e})),e.disabledEngines=n.filter((function(e){return"iqdb"!==e})),e.storageVersion="SklYTwQOYf",a.set(e)}},7011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Karma Decay",s="S1ebtZ3Uzz",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("karmaDecay"),e.disabledEngines=n.concat("karmaDecay"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"karmaDecay"!==e})),e.disabledEngines=n.filter((function(e){return"karmaDecay"!==e})),e.storageVersion="BJguWEHcbz",a.set(e)}},5957:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Sogou engine",s="S1kNNadHZ",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("sogou"),e.disabledEngines=n.concat("sogou"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"sogou"!==e})),e.disabledEngines=n.filter((function(e){return"sogou"!==e})),e.storageVersion="Hy1tD8ANb",a.set(e)}},3736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Ascii2d",s="SJzIWmjKz",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("ascii2d"),e.disabledEngines=n.concat("ascii2d"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"ascii2d"!==e})),e.disabledEngines=n.filter((function(e){return"ascii2d"!==e})),e.storageVersion="S18hLi5tG",a.set(e)}},4476:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Dreamstime, Alamy and 123RF",s="ShjDMM87",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["dreamstime","alamy","123rf"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["dreamstime","alamy","123rf"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="ekhOvNiTsF",a.set(e)}},8811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add SauceNAO",s="SklYTwQOYf",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("saucenao"),e.disabledEngines=n.concat("saucenao"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"saucenao"!==e})),e.disabledEngines=n.filter((function(e){return"saucenao"!==e})),e.storageVersion="BJXdcUXOG",a.set(e)}},3700:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Qihoo",s="SkwaU8NlX",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("qihoo"),e.disabledEngines=n.concat("qihoo"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"qihoo"!==e})),e.disabledEngines=n.filter((function(e){return"qihoo"!==e})),e.storageVersion="Syy800KkQ",a.set(e)}},2705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Pinterest",s="Syy800KkQ",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("pinterest"),e.disabledEngines=n.concat("pinterest"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"pinterest"!==e})),e.disabledEngines=n.filter((function(e){return"pinterest"!==e})),e.storageVersion="r1H3rgx1X",a.set(e)}},7714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>o,revision:()=>c,upgrade:()=>l,downgrade:()=>f}),n(5334);var r=n(3145),i=n.n(r),s=n(2667),a=n(5221);const o="Configure search engines",c="TshBYj8anA",u=i().storage.local;async function l(){const e={},{installTime:t}=await u.get("installTime");let{engines:n,disabledEngines:r}=await u.get(["engines","disabledEngines"]);const i=[];if("samsung"===a.W9?(n.splice(n.indexOf("auDesign"),0,"auTrademark"),r.push("auTrademark","dreamstime")):"safari"===a.W9&&i.push("iqdb","jpDesign"),(await(0,s.Dt)()||"safari"===a.W9)&&i.push("jingdong","taobao","alibabaChina"),i.length&&(n=n.filter((function(e){return!i.includes(e)})),r=r.filter((function(e){return!i.includes(e)}))),Date.now()-t<6e4){"samsung"===a.W9&&r.push("dreamstime");const e=["sogou","shutterstock","alamy"];r=r.filter((function(t){return!e.includes(t)}))}return n.splice(n.indexOf("baidu")+1,0,n.splice(n.indexOf("sogou"),1)[0]),e.engines=n,e.disabledEngines=r,e.storageVersion=c,u.set(e)}async function f(){return u.set({storageVersion:"UhWEtK9gMh"})}},5090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add bypassImageHostBlocking",s="UhWEtK9gMh",a=n.n(r)().storage.local;async function o(){const e={bypassImageHostBlocking:!0};return e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove(["bypassImageHostBlocking"]),e.storageVersion="d8IK4KCtVm",a.set(e)}},8372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add PimEyes, Stocksy United, Pond5, PIXTA and Wayfair",s="d8CIdomCW",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["pimeyes","stocksy","pond5","pixta","wayfair"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["pimeyes","stocksy","pond5","pixta","wayfair"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="LX20x6G8l",a.set(e)}},8043:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>a,revision:()=>o,upgrade:()=>u,downgrade:()=>l}),n(5334);var r=n(3145),i=n.n(r),s=n(5221);const a="Configure engines for Samsung Internet",o="d8IK4KCtVm",c=i().storage.local;async function u(){const e={};if("samsung"===s.W9){const{engines:t,disabledEngines:n}=await c.get(["engines","disabledEngines"]),r=["shutterstock","dreamstime"],i=["mailru","jingdong","taobao","alibabaChina","auTrademark"];e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)&&!i.includes(e)}))}return e.storageVersion=o,c.set(e)}async function l(){const e={};if("samsung"===s.W9){const{engines:t,disabledEngines:n}=await c.get(["engines","disabledEngines"]),r=["shutterstock","dreamstime"],i=["mailru","jingdong","taobao","alibabaChina","auTrademark"];e.engines=t.concat(i),e.disabledEngines=n.concat(r).concat(i)}return e.storageVersion="d8CIdomCW",c.set(e)}},5855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Mail.ru",s="ekhOvNiTsF",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.concat("mailru"),e.disabledEngines=n.concat("mailru"),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]);return e.engines=t.filter((function(e){return"mailru"!==e})),e.disabledEngines=n.filter((function(e){return"mailru"!==e})),e.storageVersion="yLciyvS5He",a.set(e)}},9996:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add new search engines",s="ggrr9C9pgV",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["birchlane","allmodern","jossandmain","perigold","ikea"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["birchlane","allmodern","jossandmain","perigold","ikea"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="TshBYj8anA",a.set(e)}},2717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add stock photo engines",s="r1H3rgx1X",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["getty","istock","shutterstock","adobestock","depositphotos"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["getty","istock","shutterstock","adobestock","depositphotos"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="r1Pvd36nz",a.set(e)}},3980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add searchModeContextMenu",s="r1Pvd36nz",a=n.n(r)().storage.local;async function o(){const e={searchModeContextMenu:"select"};return e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove("searchModeContextMenu"),e.storageVersion="SJzIWmjKz",a.set(e)}},8184:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add contribPageLastOpen",s="ryY8H0EWf",a=n.n(r)().storage.local;async function o(){const e={contribPageLastOpen:0};return e.storageVersion=s,a.set(e)}async function c(){const e={};return await a.remove("contribPageLastOpen"),e.storageVersion="HJ5MKKGhW",a.set(e)}},4496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Initial version",s="ryekyizAg",a=n.n(r)().storage.local;async function o(){const e={engines:["google","bing","yandex","baidu","tineye"],disabledEngines:[],searchAllEngines:!0,searchAllEnginesLocation:"submenu",tabInBackgound:!1,localGoogle:!0};return e.storageVersion=s,a.set(e)}async function c(){return a.clear()}},5850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{message:()=>i,revision:()=>s,upgrade:()=>o,downgrade:()=>c}),n(5334);var r=n(3145);const i="Add Jingdong, Taobao and Alibaba China",s="yLciyvS5He",a=n.n(r)().storage.local;async function o(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["jingdong","taobao","alibabaChina"];return e.engines=t.concat(r),e.disabledEngines=n.concat(r),e.storageVersion=s,a.set(e)}async function c(){const e={},{engines:t,disabledEngines:n}=await a.get(["engines","disabledEngines"]),r=["jingdong","taobao","alibabaChina"];return e.engines=t.filter((function(e){return!r.includes(e)})),e.disabledEngines=n.filter((function(e){return!r.includes(e)})),e.storageVersion="SkwaU8NlX",a.set(e)}},1068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,isStorageArea:()=>a,isStorageReady:()=>c,ensureStorageReady:()=>u}),n(5334);var r=n(3145),i=n.n(r),s=n(5221);async function a(){let{area:e="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await i().storage[e].get(""),!0}catch(e){return!1}}const o={};async function c(){let{area:e="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o[e])return!0;{const{storageVersion:t}=await i().storage[e].get("storageVersion");if(t&&t===s.n_[e])return o[e]=!0,!0}return!1}async function u(){let{area:e="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o[e])return new Promise(((t,n)=>{let r;const i=async function(){await c({area:e})?(window.clearTimeout(s),t()):r?n(new Error(`Storage (${e}) is not ready`)):window.setTimeout(i,30)},s=window.setTimeout((function(){r=!0}),6e4);i()}))}const l={get:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{area:t="local"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await u({area:t}),i().storage[t].get(e)},set:async function(e){let{area:t="local"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await u({area:t}),i().storage[t].set(e)},remove:async function(e){let{area:t="local"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await u({area:t}),i().storage[t].remove(e)},clear:async function(){let{area:e="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await u({area:e}),i().storage[e].clear()}}},2667:(e,t,n)=>{"use strict";n.d(t,{nE:()=>o,Q:()=>a,ZW:()=>u,Yw:()=>l,Qr:()=>f,F$:()=>g,kD:()=>m,fL:()=>h,iP:()=>v,Dt:()=>b,tq:()=>x,fr:()=>w,Xf:()=>y}),n(5334),n(2322),n(9494),n(3296);var r=n(3145),i=n.n(r),s=n(5221);const a=i().i18n.getMessage;function o(){i().runtime.lastError&&console.log(`Error: ${i().runtime.lastError}`)}function c(e){return new Promise((t=>setTimeout(t,e)))}async function u(){let{url:e="",token:t="",index:n=null,active:r=!0,openerTabId:a=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e||(e=l(t));const o={url:e,active:r};null!==n&&(o.index=n),null===a||a===i().tabs.TAB_ID_NONE||await b()||(o.openerTabId=a);let u=await i().tabs.create(o);if("samsung"===s.W9&&null!==n){let t=0;for(;t<100&&(!u||u.url!==e||u.index!==n);)[u]=await i().tabs.query({lastFocusedWindow:!0,index:n}),await c(20),t+=1}return u}function l(e){return e||(e=uuidv4()),`${i().runtime.getURL("/src/tab/index.html")}?id=${e}`}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"document_start";return i().tabs.executeScript(t,{frameId:n,runAt:r,code:e})}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"document_start";return i().tabs.executeScript(t,{frameId:n,runAt:r,file:e})}function d(e){return e.split(",")[0].split(":")[1].split(";")[0].toLowerCase()}function p(e){const[t,n]=e.split(",");let r;r=t.endsWith(";base64")?atob(n):unescape(n);const i=r.length,s=new Uint8Array(new ArrayBuffer(i));for(let e=0;e<i;e++)s[e]=r.charCodeAt(e);return s}function m(e){return new Blob([p(e)],{type:d(e)})}function h(e){return new Promise((t=>{const n=new FileReader;n.onload=e=>{t(e.target.result)},n.onerror=()=>{t()},n.onabort=()=>{t()},n.readAsDataURL(e)}))}function v(e){let t,{ctx:n,type:r="image/png",quality:i=.8,clear:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=e.toDataURL(r,i)}catch(e){}return s&&(n||(n=e.getContext("2d")),n.clearRect(0,0,e.width,e.height)),t}async function w(){const[e]=await i().tabs.query({lastFocusedWindow:!0,active:!0});return e}async function y(){let e,t,{fallback:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("samsung"===s.W9)e="android",t="";else try{({os:e,arch:t}=await i().runtime.getPlatformInfo())}catch(r){if(!n)throw r;({os:e,arch:t}=await i().runtime.sendMessage({id:"getPlatform"}))}"win"===e?e="windows":"mac"===e&&(e="macos"),"MacIntel"!==navigator.platform||"ios"!==e&&void 0===navigator.standalone||(e="ipados"),"x86-32"===t?t="386":"x86-64"===t?t="amd64":t.startsWith("arm")&&(t="arm");const r="windows"===e,a="macos"===e,o="linux"===e,c="android"===e,u="ios"===e,l="ipados"===e,f=["android","ios","ipados"].includes(e),g="chrome"===s.W9,d="edge"===s.W9,p="firefox"===s.W9,m=["chrome","opera"].includes(s.W9)&&/ opr\//i.test(navigator.userAgent),h="safari"===s.W9,v="samsung"===s.W9;return{os:e,arch:t,targetEnv:s.W9,isWindows:r,isMacos:a,isLinux:o,isAndroid:c,isIos:u,isIpados:l,isMobile:f,isChrome:g,isEdge:d,isFirefox:p,isOpera:m,isSafari:h,isSamsung:v}}async function b(){const{os:e}=await y();return"android"===e}async function x(){const{os:e}=await y();return["android","ios","ipados"].includes(e)}},5221:(e,t,n)=>{"use strict";n.d(t,{W9:()=>r,pL:()=>i,n_:()=>s});const r="chrome",i=!0,s={local:"20220321163741_add_clipboard_support"}},3409:(e,t,n)=>{var r={"./config.json":5054,"./init.js":3411,"./revisions/local/20210820184257_support_event_pages.js":7924,"./revisions/local/20210919175209_add_image_sharing_options.js":9730,"./revisions/local/20210928090443_add_unsplash.js":5345,"./revisions/local/20211011114043_configure_engines.js":5985,"./revisions/local/20211106103932_add_shein.js":5609,"./revisions/local/20211111071410_add_lykdat.js":3395,"./revisions/local/20211204124507_add_wildberries.js":5674,"./revisions/local/20211213014048_add_lastengineaccesscheck.js":6153,"./revisions/local/20211213191049_add_setcontextmenuevent.js":7052,"./revisions/local/20220108063511_add_google_lens.js":2145,"./revisions/local/20220321163741_add_clipboard_support.js":6823,"./revisions/local/BJXdcUXOG.js":5590,"./revisions/local/BJguWEHcbz.js":4171,"./revisions/local/Bk42MzXdW.js":165,"./revisions/local/HJ5MKKGhW.js":9201,"./revisions/local/Hy1tD8ANb.js":5324,"./revisions/local/IMMjiccGj.js":3365,"./revisions/local/K9Esw2jiQ3.js":553,"./revisions/local/LX20x6G8l.js":8654,"./revisions/local/S18hLi5tG.js":7338,"./revisions/local/S1ebtZ3Uzz.js":7011,"./revisions/local/S1kNNadHZ.js":5957,"./revisions/local/SJzIWmjKz.js":3736,"./revisions/local/ShjDMM87.js":4476,"./revisions/local/SklYTwQOYf.js":8811,"./revisions/local/SkwaU8NlX.js":3700,"./revisions/local/Syy800KkQ.js":2705,"./revisions/local/TshBYj8anA.js":7714,"./revisions/local/UhWEtK9gMh.js":5090,"./revisions/local/d8CIdomCW.js":8372,"./revisions/local/d8IK4KCtVm.js":8043,"./revisions/local/ekhOvNiTsF.js":5855,"./revisions/local/ggrr9C9pgV.js":9996,"./revisions/local/r1H3rgx1X.js":2717,"./revisions/local/r1Pvd36nz.js":3980,"./revisions/local/ryY8H0EWf.js":8184,"./revisions/local/ryekyizAg.js":4496,"./revisions/local/yLciyvS5He.js":5850,"./storage.js":1068,"storage/config.json":5054,"storage/init.js":3411,"storage/revisions/local/20210820184257_support_event_pages.js":7924,"storage/revisions/local/20210919175209_add_image_sharing_options.js":9730,"storage/revisions/local/20210928090443_add_unsplash.js":5345,"storage/revisions/local/20211011114043_configure_engines.js":5985,"storage/revisions/local/20211106103932_add_shein.js":5609,"storage/revisions/local/20211111071410_add_lykdat.js":3395,"storage/revisions/local/20211204124507_add_wildberries.js":5674,"storage/revisions/local/20211213014048_add_lastengineaccesscheck.js":6153,"storage/revisions/local/20211213191049_add_setcontextmenuevent.js":7052,"storage/revisions/local/20220108063511_add_google_lens.js":2145,"storage/revisions/local/20220321163741_add_clipboard_support.js":6823,"storage/revisions/local/BJXdcUXOG.js":5590,"storage/revisions/local/BJguWEHcbz.js":4171,"storage/revisions/local/Bk42MzXdW.js":165,"storage/revisions/local/HJ5MKKGhW.js":9201,"storage/revisions/local/Hy1tD8ANb.js":5324,"storage/revisions/local/IMMjiccGj.js":3365,"storage/revisions/local/K9Esw2jiQ3.js":553,"storage/revisions/local/LX20x6G8l.js":8654,"storage/revisions/local/S18hLi5tG.js":7338,"storage/revisions/local/S1ebtZ3Uzz.js":7011,"storage/revisions/local/S1kNNadHZ.js":5957,"storage/revisions/local/SJzIWmjKz.js":3736,"storage/revisions/local/ShjDMM87.js":4476,"storage/revisions/local/SklYTwQOYf.js":8811,"storage/revisions/local/SkwaU8NlX.js":3700,"storage/revisions/local/Syy800KkQ.js":2705,"storage/revisions/local/TshBYj8anA.js":7714,"storage/revisions/local/UhWEtK9gMh.js":5090,"storage/revisions/local/d8CIdomCW.js":8372,"storage/revisions/local/d8IK4KCtVm.js":8043,"storage/revisions/local/ekhOvNiTsF.js":5855,"storage/revisions/local/ggrr9C9pgV.js":9996,"storage/revisions/local/r1H3rgx1X.js":2717,"storage/revisions/local/r1Pvd36nz.js":3980,"storage/revisions/local/ryY8H0EWf.js":8184,"storage/revisions/local/ryekyizAg.js":4496,"storage/revisions/local/yLciyvS5He.js":5850,"storage/storage.js":1068};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=3409},4059:()=>{},7019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},5054:e=>{"use strict";e.exports=JSON.parse('{"revisions":{"local":["ryekyizAg","Hy1tD8ANb","S1kNNadHZ","Bk42MzXdW","HJ5MKKGhW","ryY8H0EWf","BJguWEHcbz","S1ebtZ3Uzz","BJXdcUXOG","SklYTwQOYf","S18hLi5tG","SJzIWmjKz","r1Pvd36nz","r1H3rgx1X","Syy800KkQ","SkwaU8NlX","yLciyvS5He","ekhOvNiTsF","ShjDMM87","LX20x6G8l","d8CIdomCW","d8IK4KCtVm","UhWEtK9gMh","TshBYj8anA","ggrr9C9pgV","IMMjiccGj","K9Esw2jiQ3","20210820184257_support_event_pages","20210919175209_add_image_sharing_options","20210928090443_add_unsplash","20211011114043_configure_engines","20211106103932_add_shein","20211111071410_add_lykdat","20211204124507_add_wildberries","20211213014048_add_lastengineaccesscheck","20211213191049_add_setcontextmenuevent","20220108063511_add_google_lens","20220321163741_add_clipboard_support"],"sync":[]}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__(5334),__webpack_require__(2322),__webpack_require__(3296);var e,t=__webpack_require__(3145),n=__webpack_require__.n(t),r=new Uint8Array(16);function i(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(r)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&s.test(e)};for(var o=[],c=0;c<256;++c)o.push((c+256).toString(16).substr(1));const u=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var l=__webpack_require__(1075);class f extends Error{constructor(e){super(e),this.name="TimeoutError"}}class g{constructor(){Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(e,t){var n;const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&(null===(n=this._queue[this.size-1])||void 0===n?void 0:n.priority)>=t.priority)return void this._queue.push(r);const i=function(e,t,n){let r=0,i=e.length;for(;i>0;){const n=Math.trunc(i/2);let a=r+n;s=e[a],t.priority-s.priority<=0?(r=++a,i-=n+1):i=n}var s;return r}(this._queue,r);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}const d=()=>{},p=new f;class m extends l{constructor(e){var t,n,r,i;if(super(),Object.defineProperty(this,"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:g,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=d,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=d,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():function(e,t,n,r){let i;const s=new Promise(((s,a)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);t!==Number.POSITIVE_INFINITY?(r={customTimers:{setTimeout,clearTimeout},...r},i=r.customTimers.setTimeout.call(void 0,(()=>{try{s(n())}catch(e){a(e)}}),t),(async()=>{try{s(await e)}catch(e){a(e)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()):s(e)}));return s.clear=()=>{clearTimeout(i),i=void 0},s}(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(p)})),s=await i;n(s),this.emit("completed",s)}catch(e){r(e),this.emit("error",e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onSizeLessThan(e){if(!(this._queue.size<e))return new Promise((t=>{const n=()=>{this._queue.size<e&&(this.removeListener("next",n),t())};this.on("next",n)}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var h=__webpack_require__(3411),v=__webpack_require__(1068),w=__webpack_require__(2667);const y=Array.isArray,b=function(){if(!arguments.length)return[];var e=arguments[0];return y(e)?e:[e]};var x=__webpack_require__(7019);const A=function(e,t){return!(null==e||!e.length)&&(0,x.Z)(e,t,0)>-1},_=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},E=function(e,t){return!(null==e||!e.length)&&(0,x.Z)(e,t,0)>-1},I=function(e,t,n,r){var i,s=-1,a=A,o=!0,c=e.length,u=[],l=t.length;if(!c)return u;n&&(t=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,(i=n,function(e){return i(e)}))),r?(a=_,o=!1):t.length>=200&&(a=E,o=!1,t=new b(t));e:for(;++s<c;){var f=e[s],g=null==n?f:n(f);if(f=r||0!==f?f:0,o&&g==g){for(var d=l;d--;)if(t[d]===g)continue e;u.push(f)}else a(t,g,r)||u.push(f)}return u},k=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},T="object"==typeof global&&global&&global.Object===Object&&global;var S="object"==typeof self&&self&&self.Object===Object&&self,j=(T||S||Function("return this")()).Symbol;var B=j?j.isConcatSpreadable:void 0;const O=function(e){return y(e)||!!(B&&e&&e[B])},C=function e(t,n,r,i,s){var a=-1,o=t.length;for(r||(r=O),s||(s=[]);++a<o;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,s):k(s,c):i||(s[s.length]=c)}return s},P=function(e){return e},M=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var R=Math.max;var U=Object.prototype.toString;const L=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=function(e){return U.call(e)}(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=function(e){return function(e){return null!=e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!L(e)}(e)};var q,N=function(e,t,n){return t=R(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=R(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),M(e,this,o)}}((function(e,t){return z(e)?I(e,C(t,1,z,!0)):[]}),q,P);const F=N;__webpack_require__(891);var D=__webpack_require__(5221);const W=["engines","disabledEngines","showInContextMenu","searchAllEnginesContextMenu","searchAllEnginesAction","tabInBackgound","localGoogle","imgFullParse","searchModeAction","searchModeContextMenu","bypassImageHostBlocking","shareImageContextMenu","shareImageAction","convertSharedImage","autoPasteAction","confirmPaste"],$=n().runtime.getURL("/src/search/index.html")+"?id={id}",V={google:{url:{target:"https://www.google.com/searchbyimage?image_url={imgUrl}"},upload:{target:$,isTaskId:!0}},bing:{url:{target:"https://www.bing.com/images/search?q=imgurl:{imgUrl}&view=detailv2&iss=sbi&FORM=IRSBIQ&redirecturl=https%3A%2F%2Fwww.bing.com%2Fimages%2Fdiscover%3Fform%3DHDRSC2#enterInsights"},upload:{target:"https://www.bing.com/",isExec:!0}},yandex:{url:{target:"https://yandex.com/images/search?url={imgUrl}&rpt=imageview"},upload:{target:"https://yandex.com/images/",isExec:!0}},baidu:{url:{target:"https://www.baidu.com/",isExec:!0},upload:{target:"https://www.baidu.com/",isExec:!0}},tineye:{url:{target:"https://www.tineye.com/search/?&url={imgUrl}"},upload:{target:"https://www.tineye.com/",isExec:!0}},sogou:{url:{target:"https://pic.sogou.com/ris?query={imgUrl}&flag=1&drag=0"},upload:{target:"https://pic.sogou.com/",isExec:!0}},karmaDecay:{url:{target:"http://karmadecay.com/search?q={imgUrl}"},upload:{target:"http://karmadecay.com/",isExec:!0}},whatanime:{url:{target:"https://trace.moe/?url={imgUrl}"},upload:{target:"https://trace.moe/",isExec:!0}},saucenao:{url:{target:"https://saucenao.com/search.php?url={imgUrl}"},upload:{target:"https://saucenao.com/",isExec:!0}},iqdb:{url:{target:"https://iqdb.org/?url={imgUrl}"},upload:{target:"https://iqdb.org/",isExec:!0}},ascii2d:{url:{target:"https://ascii2d.net/search/url/{imgUrl}"},upload:{target:"https://ascii2d.net/",isExec:!0}},getty:{upload:{target:"https://www.gettyimages.com/",isExec:!0}},istock:{upload:{target:"https://www.istockphoto.com/",isExec:!0}},shutterstock:{upload:{target:"https://www.shutterstock.com/",isExec:!0}},adobestock:{upload:{target:"https://stock.adobe.com/",isExec:!0}},depositphotos:{upload:{target:"https://depositphotos.com/",isExec:!0}},pinterest:{upload:{target:$,isTaskId:!0}},qihoo:{upload:{target:"https://st.so.com/",isExec:!0}},jingdong:{upload:{target:"https://www.jd.com/",isExec:!0}},taobao:{upload:{target:"https://www.taobao.com/",isExec:!0}},alibabaChina:{upload:{target:"https://www.1688.com/",isExec:!0}},mailru:{upload:{target:"https://go.mail.ru/search_images?fr=main&frm=main",isExec:!0}},dreamstime:{upload:{target:"https://www.dreamstime.com/",isExec:!0}},alamy:{upload:{target:"https://www.alamy.com/",isExec:!0}},"123rf":{upload:{target:"https://www.123rf.com/",isExec:!0}},esearch:{upload:{target:"https://euipo.europa.eu/eSearch/",isExec:!0}},tmview:{upload:{target:"https://www.tmdn.org/tmview/#/tmview",isExec:!0}},branddb:{upload:{target:"https://www3.wipo.int/branddb/en/",isExec:!0}},madridMonitor:{upload:{target:"https://www3.wipo.int/madrid/monitor/en/",isExec:!0}},auTrademark:{upload:{target:"https://search.ipaustralia.gov.au/trademarks/search/advanced",isExec:!0}},auDesign:{upload:{target:"https://search.ipaustralia.gov.au/designs/search/advanced",isExec:!0}},nzTrademark:{upload:{target:"https://app.iponz.govt.nz/app/TradeMarkCheck",isExec:!0}},jpDesign:{upload:{target:"https://www.graphic-image.inpit.go.jp/",isExec:!0}},pimeyes:{upload:{target:"https://pimeyes.com/en",isExec:!0}},stocksy:{upload:{target:"https://www.stocksy.com/search/",isExec:!0}},pond5:{upload:{target:"https://www.pond5.com/stock-images/",isExec:!0}},pixta:{upload:{target:"https://www.pixtastock.com/",isExec:!0}},wayfair:{upload:{target:"https://www.wayfair.com/",isExec:!0}},birchlane:{upload:{target:"https://www.birchlane.com/",isExec:!0}},allmodern:{upload:{target:"https://www.allmodern.com/",isExec:!0}},jossandmain:{upload:{target:"https://www.jossandmain.com/",isExec:!0}},perigold:{upload:{target:"https://www.perigold.com/",isExec:!0}},ikea:{upload:{target:"https://www.ikea.com/",isExec:!0}},repostSleuth:{url:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0},upload:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0}},unsplash:{upload:{target:"https://unsplash.com/",isExec:!0}},shein:{upload:{target:"https://m.shein.com/presearch",isExec:!0}},lykdat:{upload:{target:"https://lykdat.com/",isExec:!0}},wildberries:{upload:{target:"https://www.wildberries.ru/",isExec:!0}},googleLens:{upload:{target:$,isTaskId:!0}}},H=["baidu","sogou","qihoo","jingdong","taobao","alibabaChina"],K=["iqdb","karmaDecay","tineye","whatanime","repostSleuth"],G={branddb:"wipo",madridMonitor:"wipo"};Object.assign({"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/webp":["webp"],"image/wmf":["wmf"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["bmp"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"]},{"image/jxl":["jxl"]});async function Y(e){return void 0===e&&(e=await v.default.get(["engines","disabledEngines"])),F(e.engines,e.disabledEngines)}async function Q(e,t,n){const r=[];for(const i of t)(e.hasOwnProperty("imageDataUrl")||e.hasOwnProperty("imageUrl")&&await J(i,{bypassBlocking:"url"!==n}))&&r.push(i);return r}async function X(e,t,n){const r=[];for(const i of t){const t=await Z(e,i,n)?"upload":"url",s=V[i][t].isExec,a=V[i][t].isTaskId;r.push({engine:i,method:t,isExec:s,isTaskId:a,sendsReceipt:s||a})}return r}async function Z(e,t,n){return"selectUpload"===n||!e.imageUrl||!await J(t,{bypassBlocking:"url"!==n})}async function J(e){let{bypassBlocking:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="allEngines"===e?await Y():[e],{bypassImageHostBlocking:r}=await v.default.get("bypassImageHostBlocking");for(const e of n)if(!V[e].url||t&&r&&H.includes(e))return!1;return!0}async function ee(e){const t={sessionOrigin:"",sessionType:"search",searchMode:"",sourceTabId:-1,sourceTabIndex:-1,sourceFrameId:-1,engineGroup:"",engines:[],options:{}};if(t.options=await v.default.get(W),e.options&&(Object.assign(t.options,e.options),delete e.options),e.engine){if("allEngines"===e.engine){const e=await Y(t.options);t.engineGroup="allEngines",t.engines=e}else t.engines.push(e.engine);delete e.engine}return Object.assign(t,e),t.searchMode||(t.searchMode="action"===t.sessionOrigin?t.options.searchModeAction:t.options.searchModeContextMenu),t}function te(){let{message:e,messageId:t,title:r,type:i="info"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r||(r=(0,w.Q)("extensionName")),t&&(e=(0,w.Q)(t)),"safari"===D.W9?n().runtime.sendNativeMessage("application.id",{id:"notification",message:e}):n().notifications.create(`sbi-notification-${i}`,{type:"basic",title:r,message:e,iconUrl:"/src/assets/icons/app/icon-64.png"})}async function ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";await v.default.set({contribPageLastOpen:Date.now()});const t=await(0,w.fr)();let r=n().runtime.getURL("/src/contribute/index.html");return e&&(r=`${r}?action=${e}`),(0,w.ZW)({url:r,index:t.index+1})}function re(){let{filename:e,ext:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||(e="image"),t&&!e.toLowerCase().endsWith(t)&&(e=`${e}.${t}`),e}function ie(){try{return new content.XMLHttpRequest}catch(e){return new XMLHttpRequest}}async function se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{const[r]=await n().tabs.executeScript(e,{frameId:t,runAt:"document_start",code:"typeof baseModule !== 'undefined'"});if(r)return!0}catch(e){}}async function ae(){let{activeTab:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];if(e){const e=await(0,w.fr)();e&&t.push(e)}else t.push(...await n().tabs.query({url:["http://*/*","https://*/*"],windowType:"normal"}));for(const e of t)n().tabs.executeScript(e.id,{allFrames:!0,runAt:"document_start",file:"/src/insert/script.js"})}function oe(e){const t=G[e]||e;return K.includes(t)?{16:`src/assets/icons/engines/${t}-16.png`,32:`src/assets/icons/engines/${t}-32.png`}:{16:`src/assets/icons/engines/${t}.svg`}}__webpack_require__(9494);function ce(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}let ue;function le(){return ue||(ue=function(e,t){const n=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var t=function(){return indexedDB.databases().finally(e)};r=setInterval(t,100),t()})).finally((function(){return clearInterval(r)})):Promise.resolve()).then((()=>{const e=indexedDB.open("keyval-store");return e.onupgradeneeded=()=>e.result.createObjectStore(t),ce(e)}));var r;return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}(0,"keyval")),ue}function fe(e,t=le()){return t("readonly",(t=>ce(t.get(e))))}function ge(e,t,n=le()){return n("readwrite",(n=>(n.put(t,e),ce(n.transaction))))}function de(e,t=le()){return t("readwrite",(t=>(t.delete(e),ce(t.transaction))))}const pe=new m({concurrency:1}),me=new m({concurrency:1}),he={};function ve(e){return{metadataKey:`metadata_${e}`,dataKey:`data_${e}`}}async function we(){let{storageId:e,metadata:t=!1,data:n=!1,area:r="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{metadataKey:i,dataKey:s}=ve(e);return t&&({[i]:{value:t}={}}=await v.default.get(i)),n&&("local"===r?({[s]:{value:n}={}}=await v.default.get(s)):"indexeddb"===r?({value:n}=await fe(s)):"memory"===r&&({value:n}=he[s])),{metadata:t,data:n}}async function ye(){let{storageId:e,metadata:t=null,data:n=null,area:r="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{metadataKey:i,dataKey:s}=ve(e);null!==t&&await v.default.set({[i]:{value:t}}),null!==n&&("local"===r?await v.default.set({[s]:{value:n}}):"indexeddb"===r?await ge(s,{value:n}):"memory"===r&&(he[s]={value:n}))}async function be(){let{storageId:e,metadata:t=!1,data:n=!1,area:r="local"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{metadataKey:i,dataKey:s}=ve(e);t&&await v.default.remove(i),n&&("local"===r?await v.default.remove(s):"indexeddb"===r?await de(s):"memory"===r&&delete he[s])}async function xe(e){let{token:t="",receipts:r=null,expiryTime:i=0,area:s="local",isTask:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"indexeddb"!==s||["safari"].includes(D.W9)||(s="memory");const o=t||u(),c=Date.now(),l={area:s,addTime:c,receipts:r,alarms:[],isTask:a};if(i){const e=`delete-storage-item_${o}`;n().alarms.create(e,{delayInMinutes:i}),l.alarms.push(e)}return await Ee({storageId:o,addTime:c}),await ye({storageId:o,metadata:l,data:e,area:s}),o}async function Ae(){let{storageId:e,registry:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{metadata:r}=await we({storageId:e,metadata:!0});if(r){await be({storageId:e,data:!0,area:r.area});for(const e of r.alarms)await n().alarms.clear(e);await be({storageId:e,metadata:!0}),t&&(r.isTask&&await ke({taskId:e}),await Ie({storageId:e}))}}async function _e(){let{storageId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await pe.add((async function(){const{metadata:t}=await we({storageId:e,metadata:!0});t&&t.receipts&&(t.receipts.received+=1,t.receipts.received<t.receipts.expected?await ye({storageId:e,metadata:t}):await Ae({storageId:e}))}))}async function Ee(){let{storageId:e,addTime:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await me.add((async function(){const{storageRegistry:n}=await v.default.get("storageRegistry");n[e]={addTime:t},await v.default.set({storageRegistry:n})}))}async function Ie(){let{storageId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await me.add((async function(){const{storageRegistry:t}=await v.default.get("storageRegistry");delete t[e],await v.default.set({storageRegistry:t})}))}async function ke(){let{taskId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await me.add((async function(){const{taskRegistry:t}=await v.default.get("taskRegistry"),n=t.tasks[e];if(n){const r=t.tabs[n.tabId];r&&r.taskId===e&&delete t.tabs[n.tabId]}delete t.tasks[e],await v.default.set({taskRegistry:t})}))}const Te={addStorageItem:xe,getStorageItem:async function(){let{storageId:e,saveReceipt:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{metadata:n}=await we({storageId:e,metadata:!0});if(n){const{data:r}=await we({storageId:e,data:!0,area:n.area});if(r)return t&&await _e({storageId:e}),r}},deleteStorageItem:Ae,saveStorageItemReceipt:_e,addTaskRegistryItem:async function(){let{taskId:e,tabId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await me.add((async function(){const{taskRegistry:n}=await v.default.get("taskRegistry"),r=Date.now();n.lastTaskStart=r,n.tabs[t]={taskId:e},n.tasks[e]={tabId:t,addTime:r},await v.default.set({taskRegistry:n})}))},getTaskRegistryItem:async function(){let{taskId:e,tabId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{taskRegistry:n}=await v.default.get("taskRegistry");if(t){const e=n.tabs[t];if(e)return{taskId:e.taskId,...n.tasks[e.taskId]}}else if(e){const t=n.tasks[e];if(t)return{taskId:e,...t}}},cleanupRegistry:async function(){await me.add((async function(){const{lastStorageCleanup:e}=await v.default.get("lastStorageCleanup");if(Date.now()-e>864e5){const{taskRegistry:e}=await v.default.get("taskRegistry");for(const[t,n]of Object.entries(e.tasks))if(Date.now()-n.addTime>36e5){const r=e.tabs[n.tabId];r&&r.taskId===t&&delete e.tabs[n.tabId],delete e.tasks[t]}await v.default.set({taskRegistry:e});const{storageRegistry:t}=await v.default.get("storageRegistry");for(const[e,n]of Object.entries(t))Date.now()-n.addTime>36e5&&(await Ae({storageId:e,registry:!1}),delete t[e]);await v.default.set({storageRegistry:t,lastStorageCleanup:Date.now()})}}))},aquireLock:async function(){let{name:e,expiryTime:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=await pe.add((async function(){e||(e=u());const n=`lock_${e}`,{metadata:r}=await we({storageId:n,metadata:!0});if(!r)return await xe("",{token:n,expiryTime:t}),e})),e}},Se=new m({concurrency:1});function je(e,t){n().webRequest.onBeforeSendHeaders.addListener((function(e){for(const n of e.requestHeaders)if("user-agent"===n.name.toLowerCase()){n.value=t;break}return{requestHeaders:e.requestHeaders}}),{urls:["http://*/*","https://*/*"],tabId:e},["blocking","requestHeaders"])}function Be(e){let{id:t,title:r="",contexts:i,parent:s,type:a="normal",urlPatterns:o,icons:c}=e;const u={id:t,title:r,contexts:i,documentUrlPatterns:o,parentId:s,type:a};c&&(u.icons=c),n().contextMenus.create(u,w.nE)}async function Oe(){const e=await v.default.get(W),t=await Y(e),n=["audio","editable","frame","image","link","selection","video"];"firefox"===D.W9&&n.push("password"),await(0,w.Dt)()||n.push("page");const r=["http://*/*","https://*/*"];["safari","samsung"].includes(D.W9)||r.push("file:///*");const i="firefox"===D.W9;if(1!==t.length){if(t.length>1){if("samsung"===D.W9)e.shareImageContextMenu&&Be({id:"share",title:(0,w.Q)("menuItemTitle_shareImage"),contexts:n,urlPatterns:r});else{const t=e.searchAllEnginesContextMenu;if("main"===t)return void Be({id:"search_allEngines",title:(0,w.Q)("mainMenuItemTitle_allEngines"),contexts:n,urlPatterns:r});"sub"===t&&(Be({id:"search_allEngines",title:(0,w.Q)("menuItemTitle_allEngines"),contexts:n,urlPatterns:r,icons:i&&oe("allEngines")}),Be({id:"sep-1",contexts:n,type:"separator",urlPatterns:r}))}t.forEach((function(e){Be({id:`search_${e}`,title:(0,w.Q)(`menuItemTitle_${e}`),contexts:n,urlPatterns:r,icons:i&&oe(e)})}))}}else{const e=t[0];Be({id:`search_${e}`,title:(0,w.Q)("mainMenuItemTitle_engine",(0,w.Q)(`menuItemTitle_${e}`)),contexts:n,urlPatterns:r})}}async function Ce(e,t){const r=e.session.sourceTabId;if(!await se(r))return void await te({messageId:"error_scriptsNotAllowed"});const[i]=await(0,w.Qr)("typeof initContent !== 'undefined'",r);i||await(0,w.F$)("/src/content/script.js",r),await n().tabs.sendMessage(r,{id:"openView",...e,view:t},{frameId:0})}async function Pe(e){return n().tabs.executeScript(e,{allFrames:!0,runAt:"document_start",code:"\n      if (typeof addTouchListener !== 'undefined') {\n        addTouchListener();\n        showPointer();\n      }\n    "})}async function Me(e){return n().tabs.executeScript(e,{allFrames:!0,runAt:"document_start",code:"\n      if (typeof removeTouchListener !== 'undefined') {\n        removeTouchListener();\n        hidePointer();\n      }\n    "})}async function Re(e,t){["chrome","opera"].includes(D.W9)&&async function(){if(/ opr\//i.test(navigator.userAgent)){const{lastEngineAccessCheck:e}=await v.default.get("lastEngineAccessCheck");if(Date.now()-e>6048e5){await v.default.set({lastEngineAccessCheck:Date.now()});const e="https://www.google.com/generate_204";await new Promise((t=>{let r=!1;function i(){return r=!0,s(),{cancel:!0}}const s=function(){window.clearTimeout(a),n().webRequest.onBeforeRequest.removeListener(i),t(r)},a=window.setTimeout(s,3e3);n().webRequest.onBeforeRequest.addListener(i,{urls:[e],types:["xmlhttprequest"]},["blocking"]),fetch(e).catch((e=>null))}))||await te({messageId:"error_noSearchEngineAccess"})}}}(),Array.isArray(t)||(t=[t]);const r=await n().tabs.get(e.sourceTabId);e.sourceTabIndex=r.index;let i=!0;for(const n of t)await Ue(e,n,i),i=!1}async function Ue(e,t){let r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i;if(D.pL&&i){let{searchCount:t}=await v.default.get("searchCount");t+=1,await v.default.set({searchCount:t}),[10,100].includes(t)&&(r=(await ne("search")).id,e.sourceTabIndex+=1,s=!1)}if(s=!e.options.tabInBackgound&&s,t.hasOwnProperty("imageDataUrl")&&!t.imageSize){const e=(0,w.kD)(t.imageDataUrl);t.imageSize=e.size}const a=await Q(t,e.engines,e.searchMode),o=e.engines.filter((e=>!a.includes(e)));o.length&&await te({messageId:"error_invalidSearchMethod",type:"unsupportedError"});const c=await X(t,a,e.searchMode),u=c.filter((e=>e.sendsReceipt));let l;t.imageSize&&u.forEach((e=>{e.imageSize=t.imageSize})),u.length&&(l=await Te.addStorageItem(t,{receipts:{expected:u.length,received:0},expiryTime:10,area:"indexeddb"}));let f=i;for(const r of c)e.sourceTabIndex+=1,await Le(e,r,t,l,s),f&&"upload"===e.searchMode&&(await n().tabs.remove(e.sourceTabId),e.sourceTabIndex-=1),s=!1,f=!1;await(0,w.Dt)()&&r&&await n().tabs.update(r,{active:!0})}async function Le(e,t,r,i,s){let a;t.sendsReceipt&&(a=await Te.addStorageItem({session:e,search:t,imageId:i},{receipts:{expected:1,received:0},expiryTime:10,isTask:!0}));const o=u(),c=(await(0,w.ZW)({token:o,index:e.sourceTabIndex,active:s})).id;t.sendsReceipt&&await Te.addTaskRegistryItem({taskId:a,tabId:c});const l=await async function(e,t,n,r){const i=t.engine;let s=V[i][t.method].target;if(t.isTaskId&&(s=s.replace("{id}",r)),!t.isExec&&!t.isTaskId){let t=n.imageUrl;"ascii2d"!==i&&(t=encodeURIComponent(t)),s=s.replace("{imgUrl}",t),"google"!==i||e.options.localGoogle||(s=`${s}&gws_rd=cr&gl=US`)}return s}(e,t,r,a);await async function(e,t,r,i){let s;const a=await async function(e){if(await(0,w.Dt)()){if("firefox"===D.W9&&["google","ikea"].includes(e))return"Mozilla/5.0 (Linux; Android 11; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Mobile Safari/537.36";if(["mailru","googleLens"].includes(e))return"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36"}}(i);if(a)if("samsung"===D.W9){function e(e){t(),je(e.tabId,a)}s=u();const t=function(){window.clearTimeout(r),n().webRequest.onBeforeRequest.removeListener(e)},r=window.setTimeout(t,1e4);n().webRequest.onBeforeRequest.addListener(e,{urls:[(0,w.Yw)(s)],types:["main_frame"]},["blocking"])}else je(e,a);s&&await Te.addStorageItem({tabUrl:t,keepHistory:!1},{receipts:{expected:1,received:0},expiryTime:1,token:s}),await Te.addStorageItem({tabUrl:s?(0,w.Yw)(s):t,keepHistory:!1},{receipts:{expected:1,received:0},expiryTime:1,token:r}),"safari"===D.W9?n().runtime.sendMessage({id:"setTabLocation",token:r}).catch((e=>null)):n().tabs.sendMessage(e,{id:"setTabLocation",token:r},{frameId:0}).catch((e=>null))}(c,l,o,t.engine)}async function ze(e){const[t]=await(0,w.Qr)("typeof initParse !== 'undefined'",e.sourceTabId,e.sourceFrameId);t||await(0,w.F$)("/src/parse/script.js",e.sourceTabId,e.sourceFrameId),await n().tabs.sendMessage(e.sourceTabId,{id:"parsePage",session:e},{frameId:e.sourceFrameId})}async function qe(e,t){if("upload"===e.searchMode){const t=n().runtime.getURL("/src/browse/index.html"),r=await Te.addStorageItem(e,{receipts:{expected:1,received:0},expiryTime:1});await(0,w.ZW)({url:`${t}?id=${r}`,index:e.sourceTabIndex+1,openerTabId:e.sourceTabId})}else if("capture"===e.searchMode)await Ce({session:e},"capture");else if(["select","selectUpload"].includes(e.searchMode)){if(t.startsWith("file://")&&["safari","samsung"].includes(D.W9))return void await te({messageId:"error_invalidImageUrl_fileUrl"});await Ce({session:e},"select"),await se(e.sourceTabId)&&await Pe(e.sourceTabId)}}async function Ne(e){const t=[new File([(0,w.kD)(e.imageDataUrl)],e.imageFilename,{type:e.imageType})];navigator.canShare&&navigator.canShare({files:t})?await navigator.share({title:e.imageFilename,files:t}):await te({messageId:"error_imageShareNotSupported"})}async function Fe(e,t){const r=new URL(t).searchParams.get("id");if(a(r)&&await Te.aquireLock({name:r})){const t=await n().runtime.sendNativeMessage("application.id",{id:"getShareId"});if(t&&t.shareId===r){const t=`${n().runtime.getURL("/src/browse/index.html")}?id=${r}&origin=share`;await n().tabs.update(e,{url:t,active:!0})}}}async function De(){let{retry:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await n().tabs.query({url:"https://search-by-image.localhost/share*"});"safari"===D.W9&&(t=t.filter((e=>e.url.startsWith("https://search-by-image.localhost/share")))),e&&!t.length&&window.setTimeout(De,1e3);for(const e of t)await Fe(e.id,e.url)}async function We(){await n().contextMenus.removeAll();const{showInContextMenu:e}=await v.default.get("showInContextMenu");e&&(["chrome","edge","opera"].includes(D.W9)?await v.default.set({setContextMenuEvent:Date.now()}):await Oe())}async function $e(){const e=await v.default.get(["engines","disabledEngines","searchAllEnginesAction"]),t=await Y(e);return 1===t.length?(n().browserAction.setTitle({title:(0,w.Q)("actionTitle_engine",(0,w.Q)(`menuItemTitle_${t[0]}`))}),void n().browserAction.setPopup({popup:""})):"main"===e.searchAllEnginesAction&&t.length>1?(n().browserAction.setTitle({title:(0,w.Q)("actionTitle_allEngines")}),void n().browserAction.setPopup({popup:""})):(n().browserAction.setTitle({title:(0,w.Q)("extensionName")}),void(t.length?n().browserAction.setPopup({popup:"/src/action/index.html"}):n().browserAction.setPopup({popup:""})))}async function Ve(e,t){if(t.url!==document.URL)if("samsung"===D.W9&&t.tab&&t.tab.id!==n().tabs.TAB_ID_NONE&&(t.tab=await n().tabs.get(t.tab.id)),"cancelView"===e.id)"select"===e.view&&Me(t.tab.id),n().tabs.sendMessage(t.tab.id,{id:"closeView",view:e.view},{frameId:0});else if("discardView"===e.id)"select"===e.view&&Me(t.tab.id);else if("actionPopupSubmit"===e.id)!async function(e,t,n){const{searchModeAction:r}=await v.default.get("searchModeAction"),i=await(0,w.fr)(),s=await ee({sessionOrigin:"action",searchMode:r,sourceTabId:i.id,sourceTabIndex:i.index,engine:e});"url"===r?await Re(s,{imageUrl:n}):"upload"===r&&t?(s.searchMode="selectUpload",await Re(s,t)):qe(s,i.url)}(e.engine,e.images,e.imageUrl);else if("imageUploadSubmit"===e.id)e.session.sourceTabId=t.tab.id,Re(e.session,e.images);else if("imageSelectionSubmit"===e.id)Me(t.tab.id),ze(e.session);else if("imageConfirmationSubmit"===e.id)n().tabs.sendMessage(t.tab.id,{id:"closeView",view:"confirm"},{frameId:0}),"share"===e.session.sessionType?Ne(e.image):Re(e.session,e.image);else if("imageCaptureSubmit"===e.id){const r=t.tab.id;n().tabs.sendMessage(r,{id:"closeView",view:"capture"},{frameId:0});const[i]=await(0,w.Qr)("window.innerWidth;",r),s={...e.area,surfaceWidth:i},a=await async function(e){const t=await n().tabs.captureVisibleTab({format:"png"}),r=await function(e){let{query:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n=>{let r;t&&(r=document.querySelector(`img[src="${e}"]`),r&&r.complete&&r.naturalWidth&&n(r)),r=new Image,r.onload=()=>{n(r)},r.onerror=()=>{n()},r.onabort=()=>{n()},r.src=e}))}(t,{query:!1}),{left:i,top:s,width:a,height:o,surfaceWidth:c}=e,u=r.naturalWidth/c,l=document.createElement("canvas"),f=l.getContext("2d");return l.width=a*u,l.height=o*u,f.drawImage(r,i*u,s*u,l.width,l.height,0,0,l.width,l.height),(0,w.iP)(l,{ctx:f})}(s),o={imageDataUrl:a,imageFilename:re({ext:"png"}),imageType:"image/png",imageExt:"png"};Re(e.session,o)}else if("pageParseSubmit"===e.id)"action"===e.session.sessionOrigin&&e.images.length<=1&&n().tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),async function(e,t){t.length?t.length>1?await Ce({session:e,images:t},"confirm"):"share"===e.sessionType?await Ne(t[0]):await Re(e,t):await te({messageId:"error_imageNotFound"})}(e.session,e.images);else if("initShare"===e.id)!async function(){const e=await(0,w.fr)(),t=await ee({sessionOrigin:"action",sessionType:"share",searchMode:"selectUpload",sourceTabId:e.id,sourceTabIndex:e.index});await Ce({session:t},"select"),await se(t.sourceTabId)&&await Pe(t.sourceTabId)}();else if("pageParseError"===e.id)"action"===e.session.sessionOrigin&&n().tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),te({messageId:"error_pageParseError"});else if("setContentRequestHeaders"===e.id)!function(e,t){let r,i,{referrer:s=""}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=function(n){const a=n.requestHeaders.find((r=>"accept"===r.name.toLowerCase()&&r.value===e&&n.url===t&&"GET"===n.method));if(a&&(a.value="*/*"),a||n.requestId===r){if(r=n.requestId,s){const e=n.requestHeaders.find((e=>"referer"===e.name.toLowerCase()));e?e.value=s:n.requestHeaders.push({name:"Referer",value:s})}const e=n.requestHeaders.find((e=>"origin"===e.name.toLowerCase()));return e&&(i=e.value),{requestHeaders:n.requestHeaders}}},o=["blocking","requestHeaders"];"firefox"!==D.W9&&o.push("extraHeaders"),n().webRequest.onBeforeSendHeaders.addListener(a,{urls:["<all_urls>"],types:["xmlhttprequest"]},o);const c=function(e){if(e.requestId===r&&i){const t=e.responseHeaders.find((e=>"access-control-allow-origin"===e.name.toLowerCase()));t?t.value=i:e.responseHeaders.push({name:"Access-Control-Allow-Origin",value:i});const n=e.responseHeaders.find((e=>"access-control-allow-credentials"===e.name.toLowerCase()));return n?n.value="true":e.responseHeaders.push({name:"Access-Control-Allow-Credentials",value:"true"}),{responseHeaders:e.responseHeaders}}},u=["blocking","responseHeaders"];"firefox"!==D.W9&&u.push("extraHeaders"),n().webRequest.onHeadersReceived.addListener(c,{urls:["<all_urls>"],types:["xmlhttprequest"]},u);const l=function(e){e.requestId===r&&f()},f=function(){window.clearTimeout(g),n().webRequest.onBeforeSendHeaders.removeListener(a),n().webRequest.onHeadersReceived.removeListener(c),n().webRequest.onCompleted.removeListener(l),n().webRequest.onErrorOccurred.removeListener(l)},g=window.setTimeout(f,12e4);n().webRequest.onCompleted.addListener(l,{urls:["<all_urls>"],types:["xmlhttprequest"]}),n().webRequest.onErrorOccurred.addListener(l,{urls:["<all_urls>"],types:["xmlhttprequest"]})}(e.token,e.url,{referrer:e.referrer});else{if("fetchImage"===e.id){const t=await function(e){let{credentials:t=!1,token:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r=>{const i=ie();i.open("GET",e),i.timeout=12e5,i.responseType="blob",i.withCredentials=t,n&&i.setRequestHeader("Accept",n),i.onload=()=>{r(i.response)},i.onerror=()=>{r()},i.onabort=()=>{r()},i.ontimeout=()=>{r()},i.send()}))}(e.url,{credentials:!0}),n=t&&await(0,w.fL)(t);return Promise.resolve(n)}if("notification"===e.id)te({message:e.message,messageId:e.messageId,title:e.title,type:e.type});else if("routeMessage"===e.id){const r=e.message;e.setSenderTabId&&(r.senderTabId=t.tab.id),e.setSenderFrameId&&(r.senderFrameId=t.frameId);const i=[e.messageTabId?e.messageTabId:t.tab.id,r];e.hasOwnProperty("messageFrameId")&&i.push({frameId:e.messageFrameId}),n().tabs.sendMessage(...i)}else{if("getPlatform"===e.id)return(0,w.Xf)({fallback:!1});if("storageRequest"===e.id){const r=await Te.getStorageItem({storageId:e.storageId,saveReceipt:e.saveReceipt});if(r){if(e.asyncResponse)return Promise.resolve(r);n().tabs.sendMessage(t.tab.id,{id:"storageResponse",storageItem:r},{frameId:t.frameId})}}else if("storageReceipt"===e.id)for(const t of e.storageIds)await Te.saveStorageItemReceipt({storageId:t});else if("taskRequest"===e.id){const e=await Te.getTaskRegistryItem({tabId:t.tab.id});if(e&&Date.now()-e.addTime<6e5){const r=await Te.getStorageItem({storageId:e.taskId});r&&r.search.isExec&&async function(e,t,r){["bing"].includes(t)&&await n().tabs.insertCSS(e,{runAt:"document_start",file:`/src/engines/css/${t}.css`}),await(0,w.Qr)(`var taskId = '${r}';`,e),await(0,w.F$)("/src/commons-engine/script.js",e),await(0,w.F$)(`/src/engines/${t}/script.js`,e)}(t.tab.id,r.search.engine,e.taskId)}}else if("optionChange"===e.id)await async function(){await He()}();else if("searchImage"===e.id){const{session:t,search:n,image:r}=e;"upload"===n.method&&(r.imageBlob=(0,w.kD)(r.imageDataUrl));try{let e;return"google"===n.engine?e=await async function(){let{session:e,search:t,image:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=new FormData;r.append("encoded_image",n.imageBlob,n.imageFilename);const i=await fetch("https://www.google.com/searchbyimage/upload",{referrer:"",mode:"cors",method:"POST",body:r});if(200!==i.status)throw new Error(`API response: ${i.status}, ${await i.text()}`);let s=i.url;return e.options.localGoogle||(s=s.replace(/(.*google\.)[a-zA-Z0-9_\-.]+(\/.*)/,"$1com$2&gl=US")),s}({session:t,search:n,image:r}):"googleLens"===n.engine?e=await async function(){let{session:e,search:t,image:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=new FormData;r.append("encoded_image",n.imageBlob,n.imageFilename);const i=await fetch(`https://lens.google.com/upload?ep=ccm&s=&st=${Date.now()}`,{referrer:"",mode:"cors",method:"POST",body:r});if(200!==i.status)throw new Error(`API response: ${i.status}, ${await i.text()}`);const s=await i.text();return s.match(/<meta .*URL=(https?:\/\/.*)"/)[1]}({session:t,search:n,image:r}):"pinterest"===n.engine&&(e=await async function(){let{session:e,search:t,image:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=new FormData;r.append("image",n.imageBlob,n.imageFilename),r.append("x","0"),r.append("y","0"),r.append("w","1"),r.append("h","1"),r.append("base_scheme","https");const i=await fetch("https://api.pinterest.com/v3/visual_search/extension/image/",{referrer:"",mode:"cors",method:"PUT",body:r}),s=await i.json();if(200!==i.status||"success"!==s.status||!s.data||!s.data.length)throw new Error("search failed");return s.data.map((e=>({page:`https://pinterest.com/pin/${e.id}/`,image:e.image_large_url,text:e.description})))}({session:t,search:n,image:r})),Promise.resolve({data:e})}catch(e){return Promise.resolve({error:e.toString()})}}}}}async function He(){const e=[$e];await async function(){if(await(0,w.Dt)()){if("samsung"===D.W9)return!0}else if(n().contextMenus)return!0;return!1}()&&e.push(We),await Se.addAll(e)}n().contextMenus&&n().contextMenus.onClicked.addListener((async function(e,t){"samsung"===D.W9&&t.id!==n().tabs.TAB_ID_NONE&&(t=await n().tabs.get(t.id));const[r,i]=e.menuItemId.split("_"),s={sessionOrigin:"context",sessionType:r,sourceTabId:t.id,sourceTabIndex:t.index,sourceFrameId:void 0!==e.frameId?e.frameId:0};"share"===r?s.searchMode="selectUpload":"search"===r&&(s.engine=i);const a=await ee(s);if("share"===r)await se(a.sourceTabId,a.sourceFrameId)?await ze(a):await te({messageId:"error_scriptsNotAllowed"});else if("capture"===a.searchMode)await Ce({session:a},"capture");else{if(!await se(a.sourceTabId,a.sourceFrameId))return void(e.srcUrl&&"image"===e.mediaType&&function(e){try{if(e.length>2048)return;const t=new URL(e);if(/^https?:$/i.test(t.protocol))return!0}catch(e){}}(e.srcUrl)?await Re(a,{imageUrl:e.srcUrl}):await te({messageId:"error_scriptsNotAllowed"}));await ze(a)}})),n().browserAction.onClicked.addListener((async function(e){"samsung"===D.W9&&e.id!==n().tabs.TAB_ID_NONE&&(e=await n().tabs.get(e.id));const t=await ee({sessionOrigin:"action",sourceTabId:e.id,sourceTabIndex:e.index});if("url"===t.searchMode)return void await te({messageId:await(0,w.tq)()?"error_invalidSearchModeMobile_url":"error_invalidSearchMode_url"});const r=await Y(t.options);r.length?("main"===t.options.searchAllEnginesAction&&r.length>1?(t.engineGroup="allEngines",t.engines=r):t.engines.push(r[0]),qe(t,e.url)):await te({messageId:"error_allEnginesDisabled"})})),n().runtime.onMessage.addListener((function(e,t,n){const r=Ve(e,t);return"safari"===D.W9?(r.then((function(e){void 0===e&&(e=null),n(e)})),!0):r})),n().storage.onChanged.addListener((async function(e,t){"local"===t&&await(0,v.isStorageReady)()&&e.setContextMenuEvent&&await Se.add(Oe)})),n().alarms.onAlarm.addListener((async function(e){let{name:t}=e;if(t.startsWith("delete-storage-item")){const[e,n]=t.split("_");await Te.deleteStorageItem({storageId:n})}})),n().runtime.onInstalled.addListener((async function(e){["install","update"].includes(e.reason)&&["chrome","edge","opera","samsung"].includes(D.W9)&&await ae()})),n().runtime.onStartup.addListener((async function(){["samsung"].includes(D.W9)&&await ae({activeTab:!0})})),"safari"===D.W9&&function(){const e=function(e){e.frameId||Fe(e.tabId,e.url)},t={url:[{hostEquals:"search-by-image.localhost",pathEquals:"/share"}]};n().webNavigation.onBeforeNavigate.addListener(e,t),n().webNavigation.onCommitted.addListener(e,t),n().webNavigation.onCompleted.addListener(e,t),n().webNavigation.onErrorOccurred.addListener(e,t),De({retry:!0})}(),async function(){await(0,v.isStorageReady)()||(await(0,h.migrateLegacyStorage)(),await(0,h.initStorage)()),await He(),await Te.cleanupRegistry()}()})()})();