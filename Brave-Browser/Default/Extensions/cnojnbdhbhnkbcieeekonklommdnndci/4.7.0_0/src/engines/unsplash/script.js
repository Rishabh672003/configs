(()=>{"use strict";var e,t={3054:(e,t,a)=>{a(5334),a(2322),a(3296);var s=a(6832),o=a(2667),n=a(6978);(0,n.xU)((async function(e){let{session:t,search:a,image:i,storageIds:r}=e;await(0,o.DY)("div#app > div[data-test=client-side-hydration-complete]");const p=document.querySelector('div#popover-visual-search-form-nav > button[title="Visual search"]');if(p){p.click();const e="input[type=file]",t=await(0,o.DY)(e);await(0,n.er)(e,t,i),await(0,n.bC)(r),t.dispatchEvent(new Event("change",{bubbles:!0}))}else{const e=await fetch("https://unsplash.com/napi/search/by_image/upload?content_type="+i.imageType);if(200!==e.status)throw new Error(`API response: ${e.status}, ${await e.text()}`);const t=await e.json(),a=new FormData;a.append("key",t.fields.key),a.append("Content-Type",t.fields["Content-Type"]),a.append("success_action_status",t.fields.success_action_status),a.append("policy",t.fields.policy),a.append("x-amz-credential",t.fields["x-amz-credential"]),a.append("x-amz-algorithm",t.fields["x-amz-algorithm"]),a.append("x-amz-date",t.fields["x-amz-date"]),a.append("x-amz-signature",t.fields["x-amz-signature"]),a.append("file",i.imageBlob,"blob");const o=await fetch(t.url,{mode:"cors",method:t.method,body:a});if(201!==o.status)throw new Error(`API response: ${o.status}, ${await o.text()}`);const p=new FormData;p.append("upload",t.fields.key);const c=await fetch("https://unsplash.com/napi/search/by_image",{mode:"cors",method:"POST",body:p});if(201!==c.status)throw new Error(`API response: ${c.status}, ${await c.text()}`);const l="https://unsplash.com/s/visual/"+(await c.json()).uuid;await(0,n.bC)(r),(0,s.mQ)(l)&&window.location.replace(l)}}),"unsplash",taskId)}},a={};function s(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,a,o,n)=>{if(!a){var i=1/0;for(l=0;l<e.length;l++){for(var[a,o,n]=e[l],r=!0,p=0;p<a.length;p++)(!1&n||i>=n)&&Object.keys(s.O).every((e=>s.O[e](a[p])))?a.splice(p--,1):(r=!1,n<i&&(i=n));if(r){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,o,n]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.j=3095,(()=>{var e={3095:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[i,r,p]=a,c=0;if(i.some((t=>0!==e[t]))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(p)var l=p(s)}for(t&&t(a);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[i[c]]=0;return s.O(l)},a=globalThis.webpackChunksearch_by_image=globalThis.webpackChunksearch_by_image||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=s.O(void 0,[5844],(()=>s(3054)));o=s.O(o)})();